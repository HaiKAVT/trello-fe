"use strict";(self.webpackChunktrello_front_end=self.webpackChunktrello_front_end||[]).push([[845],{4845:(Ni,fe,u)=>{u.r(fe),u.d(fe,{TrelloModule:()=>Ui});var _=u(8583),b=u(4655),be=u(8239),e=u(7716),x=u(5538);let ve=(()=>{class i{constructor(t){this.authenticationService=t,this.currentUser={},this.isActived=!1}show(){this.isActived=!0,this.currentUser=this.authenticationService.getCurrentUserValue()}close(){this.isActived=!1}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(x.i))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var M=u(2715),O=u(4747),Z=u(2340),A=u(1841);const I=`${Z.N.api_url}`;let K=(()=>{class i{constructor(t){this.httpClient=t}updateAColumn(t,n){return this.httpClient.put(`${I}columns/${t}`,n)}updateAllColumn(t){return this.httpClient.put(`${I}columns`,t)}deleteAColumn(t){return this.httpClient.delete(`${I}columns/${t}`)}createAColumn(t){return this.httpClient.post(`${I}columns`,t)}getAllColumn(){return this.httpClient.get(`${I}columns`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(A.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const P=`${Z.N.api_url}`;let E=(()=>{class i{constructor(t){this.httpClient=t}findAll(){return this.httpClient.get(`${P}workspaces`)}findAllByOwnerId(t){return this.httpClient.get(`${P}workspaces/owner/${t}`)}findById(t){return this.httpClient.get(`${P}workspaces/${t}`)}updateWorkspace(t,n){return this.httpClient.put(`${P}workspaces/${t}`,n)}createWorkspace(t){return this.httpClient.post(`${P}workspaces`,t)}deleteWorkspace(t){return this.httpClient.delete(`${P}workspaces/${t}`)}getCurrentWorkspaceID(t){return this.httpClient.get(`${P}workspaces/${t}/boards`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(A.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function et(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li",2),e.TgZ(1,"a",5),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().showWorkspaceButton(s)}),e._uU(2),e.qZA(),e.TgZ(3,"span",5),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().showWorkspaceButton(s)}),e._UZ(4,"i",9),e.qZA(),e.TgZ(5,"span",5),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().showWorkspaceButton(s)}),e._UZ(6,"i",10),e.qZA(),e.TgZ(7,"ul",11),e.TgZ(8,"li"),e.TgZ(9,"a",12),e._uU(10,"B\u1ea3ng"),e.qZA(),e.qZA(),e.TgZ(11,"li"),e.TgZ(12,"a",3),e._uU(13,"Th\xe0nh vi\xean"),e.qZA(),e.qZA(),e.TgZ(14,"li"),e.TgZ(15,"a",3),e._uU(16,"C\xe0i \u0111\u1eb7t"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(t.title),e.xp6(2),e.MGl("id","arrow-down-",n,""),e.xp6(2),e.MGl("id","arrow-up-",n,""),e.xp6(1),e.MGl("id","workspace-",n,""),e.xp6(2),e.MGl("routerLink","/workspaces/",t.id,"/home"),e.xp6(3),e.MGl("routerLink","/workspaces/",t.id,"/members"),e.xp6(3),e.MGl("routerLink","/workspaces/",t.id,"/setting")}}const tt=function(){return[""]},nt=function(){return["/boards"]};let W=(()=>{class i{constructor(t,n){this.authenticateService=t,this.workspaceService=n,this.workspaces=[]}ngOnInit(){this.loggedInUser=this.authenticateService.getCurrentUserValue()}showCreateWorkspaceModal(){document.getElementById("create-workspace").classList.add("is-active")}showWorkspaceButton(t){let n=document.getElementById(`workspace-${t}`),o=document.getElementById(`arrow-down-${t}`),s=document.getElementById(`arrow-up-${t}`);n.classList.contains("is-hidden")?(n.classList.remove("is-hidden"),o.classList.add("is-hidden"),s.classList.remove("is-hidden")):(n.classList.add("is-hidden"),o.classList.remove("is-hidden"),s.classList.add("is-hidden"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.i),e.Y36(E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-side-bar"]],inputs:{workspaces:"workspaces"},decls:21,vars:5,consts:[["id","sidebar",2,"font-size","20px"],[1,"list-group"],[1,"list-group-item"],[3,"routerLink"],[1,"menu-label",2,"color","gainsboro"],[3,"click"],[1,"fas","fa-plus-circle","is-hoverable"],["class","list-group-item",4,"ngFor","ngForOf"],[2,"margin-left","10px"],[1,"fas","fa-angle-down",2,"position","absolute","margin-top","-35px","margin-left","206px",3,"id"],[1,"fas","fa-angle-up","is-hidden",2,"position","absolute","margin-top","-35px","margin-left","206px",3,"id"],[1,"is-hidden",3,"id"],[2,"font-size","10px",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0),e.TgZ(1,"ul",1),e.TgZ(2,"li",2),e.TgZ(3,"a",3),e._uU(4,"Trang ch\u1ee7"),e.qZA(),e.qZA(),e.TgZ(5,"li"),e.TgZ(6,"div",2),e.TgZ(7,"a",3),e._uU(8,"B\u1ea3ng"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"li",2),e.TgZ(10,"p",4),e._uU(11,"Nh\xf3m "),e.TgZ(12,"span",5),e.NdJ("click",function(){return n.showCreateWorkspaceModal()}),e._UZ(13,"i",6),e.qZA(),e.qZA(),e.qZA(),e.YNc(14,et,17,7,"li",7),e.qZA(),e._UZ(15,"br"),e._UZ(16,"br"),e.TgZ(17,"div",8),e._uU(18," D\u1ef1 \xe1n C0421K1 "),e._UZ(19,"br"),e._uU(20," D\u1ef1 \xe1n CodeGym "),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("routerLink",e.DdM(3,tt)),e.xp6(4),e.Q6J("routerLink",e.DdM(4,nt)),e.xp6(7),e.Q6J("ngForOf",n.workspaces))},directives:[b.yS,_.sg],styles:['@import"https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700";a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit;text-decoration:none;transition:all .3s}.navbar[_ngcontent-%COMP%]{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:40px;box-shadow:1px 1px 3px #0000001a}.navbar-btn[_ngcontent-%COMP%]{box-shadow:none;outline:none!important;border:none}.line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch}#sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background:#7386D5;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}#content[_ngcontent-%COMP%]{width:100%;padding:20px;min-height:100vh;transition:all .3s}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar.active[_ngcontent-%COMP%]{margin-left:0}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.section-board[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;flex-wrap:wrap}.mat-card[_ngcontent-%COMP%]{width:255px;margin:20px;height:150px}.root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-item[_ngcontent-%COMP%]{list-style:none}.img-circle[_ngcontent-%COMP%]{margin-top:3px;height:33px;width:33px;-webkit-clip-path:circle(50%);clip-path:circle(50%)}.icon-link[_ngcontent-%COMP%]{display:inline-flex;font-size:25px;text-decoration:none;width:40px;height:40px;transition:.5s linear;position:relative;z-index:1;margin:auto}.icon-link[_ngcontent-%COMP%]:hover{color:#fff}.icon-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto}.fa-plus[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bell[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bars[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-home[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-board[_ngcontent-%COMP%]{font-size:20px;margin:11px 5px 5px}.board-header[_ngcontent-%COMP%]{display:flex;margin:inherit}.nav[_ngcontent-%COMP%]{background:#ffffff;display:flex;margin:inherit}.nav-brand-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;margin:auto}.nav-brand-end[_ngcontent-%COMP%]{margin-left:1100px;display:flex;justify-content:flex-end;height:40px;text-decoration:none;align-items:center;background-color:#ffffff4d;box-shadow:none;color:#fff;font-weight:bold;line-height:32px;padding:0;white-space:nowrap}.nav-content[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;line-height:1}.nav-item[_ngcontent-%COMP%]{display:flex;width:32px;justify-content:center;align-items:center;margin:0;height:40px}h1.app-name[_ngcontent-%COMP%]{padding:4px}.app-name[_ngcontent-%COMP%]{font-size:20px;font-family:"Lato",sans-serif;font-weight:bold}.has-gradient-text[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffffff,#efd0d0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.board[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:210%;min-width:0;min-height:0}.board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow-x:auto}.board-columns[_ngcontent-%COMP%]{display:flex;flex-grow:1}.board-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:0;min-width:300px;margin:50px;padding:25px;border-radius:4px;background:#ffffff}[_ngcontent-%COMP%]:not(:first-child){margin-left:0}.column-title[_ngcontent-%COMP%]{color:#523535;font-size:15px;font-weight:800;font-family:"Lato",sans-serif;text-transform:uppercase;margin-bottom:20px}.task[_ngcontent-%COMP%]{display:flex;padding:18px 12px;background:#ffffff;border-bottom:solid 1px #ffffff;border-radius:4px;margin-bottom:15px;box-shadow:0 5px 5px -3px #00000014,0 3px 14px 2px #0000000d}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.tasks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-board[_ngcontent-%COMP%]{background-color:#4c94be;border-radius:.3rem;transition:background-color .15s}.section-board[_ngcontent-%COMP%]{width:80rem;display:flex;flex-wrap:wrap}.main-content[_ngcontent-%COMP%]{justify-content:space-between;align-content:space-around;height:auto;margin:auto}.card[_ngcontent-%COMP%]{width:255px;margin:20px;height:150px}.title-board[_ngcontent-%COMP%]{margin-top:30px;margin-left:35px;font-size:22px}.fa-briefcase[_ngcontent-%COMP%], .fa-clipboard[_ngcontent-%COMP%]{margin-right:5px}span[_ngcontent-%COMP%]{margin-left:135px}.fa-plus-circle[_ngcontent-%COMP%]{font-size:20px}.fa-plus-circle[_ngcontent-%COMP%]:hover{color:#000}.fa-angle-down[_ngcontent-%COMP%]{color:#000}.fa-angle-up[_ngcontent-%COMP%]{color:#000}.img-circle-add-board[_ngcontent-%COMP%]{margin:inherit;text-align:center}']}),i})();var d=u(3679);function it(i,r){if(1&i&&(e.TgZ(0,"div",44),e.TgZ(1,"div",45),e.TgZ(2,"p",46),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",47),e.TgZ(5,"div",48),e.TgZ(6,"span",49),e.TgZ(7,"b"),e._uU(8,"Ch\u1ee7 s\u1edf h\u1eefu: "),e.qZA(),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.MGl("routerLink","/board/",t.id,""),e.xp6(2),e.MGl("routerLink","/board/",t.id,""),e.xp6(1),e.Oqu(t.title),e.xp6(6),e.Oqu(t.owner.username)}}function ot(i,r){if(1&i&&(e.TgZ(0,"div",44),e.TgZ(1,"div",45),e.TgZ(2,"p",50),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",47),e.TgZ(5,"div",48),e.TgZ(6,"span",49),e.TgZ(7,"b"),e._uU(8,"Ch\u1ee7 s\u1edf h\u1eefu: "),e.qZA(),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.MGl("routerLink","/trello/board/",t.id,""),e.xp6(3),e.Oqu(t.title),e.xp6(6),e.Oqu(t.owner)}}function rt(i,r){if(1&i&&(e.TgZ(0,"div",44),e.TgZ(1,"div",45),e.TgZ(2,"p",50),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",47),e.TgZ(5,"span",49),e.TgZ(6,"b"),e._uU(7,"Ch\u1ee7 s\u1edf h\u1eefu: "),e.qZA(),e._uU(8),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"span",49),e.TgZ(11,"b"),e._uU(12,"Lo\u1ea1i nh\xf3m: "),e.qZA(),e._uU(13),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.MGl("routerLink","/workspaces/",t.id,"/home"),e.xp6(3),e.Oqu(t.title),e.xp6(5),e.Oqu(t.owner.username),e.xp6(5),e.Oqu(t.type)}}function st(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,rt,14,4,"div",51),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf","Public"==t.privacy)}}function at(i,r){1&i&&(e.TgZ(0,"div",53),e._uU(1,"Ti\xeau \u0111\u1ec1 c\u1ea7n \u0111\u01b0\u1ee3c nh\u1eadp."),e.qZA())}function ct(i,r){if(1&i&&(e.TgZ(0,"div",41),e.YNc(1,at,2,0,"div",52),e.qZA()),2&i){e.oxw();const t=e.MAs(34);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function dt(i,r){1&i&&(e.TgZ(0,"div",53),e._uU(1," H\xe3y nh\u1eadp ti\xeau \u0111\u1ec1 "),e.qZA())}function lt(i,r){if(1&i&&(e.TgZ(0,"div",41),e.YNc(1,dt,2,0,"div",54),e.qZA()),2&i){e.oxw();const t=e.MAs(69);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}let gt=(()=>{class i{constructor(t,n,o,s,a,c){this.modalService=t,this.boardService=n,this.authenticateService=o,this.toastService=s,this.columnService=a,this.workspaceService=c,this.boards=[],this.yourBoards=[],this.sharedBoards=[],this.newBoard={title:"",owner:{id:-1},columns:[],type:""},this.workspaces=[],this.workspacesPublic=[],this.workspace={boards:[],id:0,members:[],owner:void 0,title:"",type:"",privacy:""}}ngOnInit(){this.loggedInUser=this.authenticateService.getCurrentUserValue(),this.getBoards(),this.getAllWorkspace(),this.getSharedBoards()}getBoards(){this.boardService.getOwnedBoard(this.loggedInUser.id).subscribe(t=>{this.boards=t})}getSharedBoards(){this.boardService.findAllSharedBoardsByUserId(this.loggedInUser.id).subscribe(t=>this.sharedBoards=t)}createNewBoard(){var t=this;this.newBoard.owner=this.loggedInUser,this.boardService.addBoard(this.newBoard).subscribe(function(){var n=(0,be.Z)(function*(o){t.createdBoard=o,yield t.premadeColumnInBoard("C\xf4ng vi\u1ec7c",0,t.createdBoard),yield t.premadeColumnInBoard("S\u1ebd l\xe0m",1,t.createdBoard),yield t.premadeColumnInBoard("\u0110ang l\xe0m",2,t.createdBoard),yield t.premadeColumnInBoard("\u0110\xe3 xong",3,t.createdBoard),yield t.toastService.showMessage("B\u1ea3ng \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o","is-success"),yield t.getBoards(),yield t.resetInput(),yield t.hideCreateBoard()});return function(o){return n.apply(this,arguments)}}())}updateCreatedBoard(){var t;this.boardService.updateBoard(null===(t=this.createdBoard)||void 0===t?void 0:t.id,this.createdBoard).subscribe(()=>{this.getBoards()})}resetInput(){this.newBoard={title:"",owner:{id:-1},columns:[],type:""}}premadeColumnInBoard(t,n,o){this.columnService.createAColumn({cards:[],position:n,title:t}).subscribe(a=>{o.columns.push(a),this.updateCreatedBoard()})}hideCreateBoard(){this.resetInput(),document.getElementById("create-board").classList.remove("is-active")}showCreateWorkspaceModal(){document.getElementById("create-workspace").classList.add("is-active")}hideCreateWorkspaceModal(){this.resetWorkspaceInput(),document.getElementById("create-workspace").classList.remove("is-active")}getAllWorkspace(){this.workspaceService.findAll().subscribe(t=>{this.workspacesPublic=t}),this.workspaceService.findAllByOwnerId(this.loggedInUser.id).subscribe(t=>{this.workspaces=t})}createWorkspace(){this.workspace.owner=this.loggedInUser,this.workspaceService.createWorkspace(this.workspace).subscribe(()=>{this.getAllWorkspace(),this.toastService.showMessage("Nh\xf3m \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o","is-success"),this.hideCreateWorkspaceModal()})}resetWorkspaceInput(){this.workspace={boards:[],id:0,members:[],owner:void 0,title:"",type:"",privacy:""}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ve),e.Y36(M.$),e.Y36(x.i),e.Y36(O.k),e.Y36(K),e.Y36(E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],decls:104,vars:15,consts:[["xmlns","http://www.w3.org/1999/html",1,"main-content","columns","is-fullheight"],[3,"workspaces"],[1,"container","column","is-10",2,"padding","10px 13px 13px 106px"],["top",""],[1,"title-board"],[1,"far","fa-clipboard"],[1,"section-board"],["class","card",3,"routerLink",4,"ngFor","ngForOf"],["target",""],[1,"fas","fa-briefcase"],[4,"ngFor","ngForOf"],["id","create-board",1,"modal"],[1,"modal-background",3,"click"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"label"],["type","text","required","",1,"input",3,"ngModel","ngModelChange"],["boardTitle","ngModel"],["class","alert",4,"ngIf"],[1,"control"],[1,"input",3,"ngModel","ngModelChange"],["value","Private"],["value","Public"],[1,"is-info","user-button","is-light"],[1,"modal-card-foot"],[1,"is-right"],[1,"button","is-dark","is-right",3,"disabled","click"],[1,"button","is-light","is-right",3,"click"],["id","create-workspace",1,"modal"],[1,"field",2,"position","relative"],["workspaceTitle","ngModel"],["required","",1,"input",3,"ngModel","ngModelChange"],["workspaceType","ngModel"],["value","IT"],["value","K\u1ebf to\xe1n"],["value","HR"],["value","Kh\xe1c"],["workspacePrivacy","ngModel"],[1,"alert"],[1,"button","is-dark",3,"disabled","click"],[1,"button","is-light",3,"click"],[1,"card",3,"routerLink"],[1,"card-header"],[1,"card-header-title",3,"routerLink"],[1,"card-content"],[1,"content"],[2,"font-size","small"],[1,"card-header-title"],["class","card",3,"routerLink",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","red"],["style","color: red",4,"ngIf"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0),e._UZ(1,"app-side-bar",1),e.TgZ(2,"div",2,3),e.TgZ(4,"div",4),e.TgZ(5,"h1"),e._UZ(6,"i",5),e._uU(7,"B\u1ea3ng c\u1ee7a b\u1ea1n"),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,it,10,4,"div",7),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"h1"),e._UZ(12,"i",5),e._uU(13,"B\u1ea3ng \u0111\u01b0\u1ee3c chia s\u1ebb v\u1edbi b\u1ea1n"),e.qZA(),e.qZA(),e.TgZ(14,"div",6),e.YNc(15,ot,10,3,"div",7),e.qZA(),e.TgZ(16,"div",4,8),e.TgZ(18,"h1"),e._UZ(19,"i",9),e._uU(20,"Nh\xf3m C\xf4ng khai"),e.qZA(),e.qZA(),e.TgZ(21,"div",6),e.YNc(22,st,2,1,"div",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",11),e.TgZ(24,"div",12),e.NdJ("click",function(){return n.hideCreateBoard()}),e.qZA(),e.TgZ(25,"div",13),e.TgZ(26,"header",14),e.TgZ(27,"p",15),e._uU(28,"T\u1ea1o m\u1ed9t b\u1ea3ng"),e.qZA(),e.TgZ(29,"button",16),e.NdJ("click",function(){return n.hideCreateBoard()}),e.qZA(),e.qZA(),e.TgZ(30,"section",17),e.TgZ(31,"label",18),e._uU(32,"T\xean b\u1ea3ng"),e.qZA(),e.TgZ(33,"input",19,20),e.NdJ("ngModelChange",function(s){return n.newBoard.title=s}),e.qZA(),e.YNc(35,ct,2,1,"div",21),e.TgZ(36,"label",18),e._uU(37,"Lo\u1ea1i"),e.qZA(),e.TgZ(38,"div",22),e.TgZ(39,"select",23),e.NdJ("ngModelChange",function(s){return n.newBoard.type=s}),e.TgZ(40,"option",24),e._uU(41,"Ri\xeang t\u01b0"),e.qZA(),e.TgZ(42,"option",25),e._uU(43,"C\xf4ng khai"),e.qZA(),e.qZA(),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"div",22),e.TgZ(46,"label",18),e._uU(47,"Ng\u01b0\u1eddi t\u1ea1o: "),e.TgZ(48,"span",26),e._uU(49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"footer",27),e.TgZ(51,"div",28),e.TgZ(52,"button",29),e.NdJ("click",function(){return n.createNewBoard()}),e._uU(53,"T\u1ea1o"),e.qZA(),e.qZA(),e.TgZ(54,"button",30),e.NdJ("click",function(){return n.hideCreateBoard()}),e._uU(55,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",31),e.TgZ(57,"div",12),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e.qZA(),e.TgZ(58,"div",13),e.TgZ(59,"header",14),e.TgZ(60,"p",15),e._uU(61,"T\u1ea1o m\u1ed9t nh\xf3m m\u1edbi"),e.qZA(),e.TgZ(62,"button",16),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e.qZA(),e.qZA(),e.TgZ(63,"section",17),e.TgZ(64,"div",32),e.TgZ(65,"label",18),e._uU(66,"T\xean nh\xf3m"),e.qZA(),e.TgZ(67,"div",22),e.TgZ(68,"input",19,33),e.NdJ("ngModelChange",function(s){return n.workspace.title=s}),e.qZA(),e.qZA(),e.TgZ(70,"label",18),e._uU(71,"Ph\xe2n lo\u1ea1i nh\xf3m:"),e.qZA(),e.TgZ(72,"div",22),e.TgZ(73,"select",34,35),e.NdJ("ngModelChange",function(s){return n.workspace.type=s}),e.TgZ(75,"option",36),e._uU(76,"IT"),e.qZA(),e.TgZ(77,"option",37),e._uU(78,"K\u1ebf to\xe1n"),e.qZA(),e.TgZ(79,"option",38),e._uU(80,"Nh\xe2n s\u1ef1"),e.qZA(),e.TgZ(81,"option",39),e._uU(82,"Kh\xe1c"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"label",18),e._uU(84,"Quy\u1ec1n h\u1ea1n"),e.qZA(),e.TgZ(85,"div",22),e.TgZ(86,"select",34,40),e.NdJ("ngModelChange",function(s){return n.workspace.privacy=s}),e.TgZ(88,"option",24),e._uU(89,"Ri\xeang t\u01b0"),e.qZA(),e.TgZ(90,"option",25),e._uU(91,"C\xf4ng khai"),e.qZA(),e.qZA(),e.qZA(),e.YNc(92,lt,2,1,"div",21),e.qZA(),e.TgZ(93,"div",22),e.TgZ(94,"label",18),e._uU(95,"Ng\u01b0\u1eddi t\u1ea1o: "),e.TgZ(96,"span",26),e._uU(97),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(98,"footer",27),e.TgZ(99,"div",41),e.TgZ(100,"button",42),e.NdJ("click",function(){return n.createWorkspace()}),e._uU(101,"T\u1ea1o "),e.qZA(),e.qZA(),e.TgZ(102,"button",43),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e._uU(103,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.MAs(34),s=e.MAs(69),a=e.MAs(74),c=e.MAs(87);e.xp6(1),e.Q6J("workspaces",n.workspaces),e.xp6(8),e.Q6J("ngForOf",n.boards),e.xp6(6),e.Q6J("ngForOf",n.sharedBoards),e.xp6(7),e.Q6J("ngForOf",n.workspacesPublic),e.xp6(11),e.Q6J("ngModel",n.newBoard.title),e.xp6(2),e.Q6J("ngIf",o.invalid&&o.touched),e.xp6(4),e.Q6J("ngModel",n.newBoard.type),e.xp6(10),e.Oqu(n.loggedInUser.username),e.xp6(3),e.Q6J("disabled",o.invalid),e.xp6(16),e.Q6J("ngModel",n.workspace.title),e.xp6(5),e.Q6J("ngModel",n.workspace.type),e.xp6(13),e.Q6J("ngModel",n.workspace.privacy),e.xp6(6),e.Q6J("ngIf",s.invalid&&s.touched),e.xp6(5),e.Oqu(n.loggedInUser.username),e.xp6(3),e.Q6J("disabled",s.invalid||a.invalid||c.invalid)}},directives:[W,_.sg,d.Fj,d.Q7,d.JJ,d.On,_.O5,d.EJ,d.YN,d.Kr,b.rH],styles:['a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit;text-decoration:none;transition:all .3s}.navbar[_ngcontent-%COMP%]{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:40px;box-shadow:1px 1px 3px #0000001a}.navbar-btn[_ngcontent-%COMP%]{box-shadow:none;outline:none!important;border:none}.line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch;background-image:linear-gradient(to top,#fff1eb 0%,#6d7fcc 100%)}#sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background:#7386D5;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}#content[_ngcontent-%COMP%]{width:100%;padding:20px;min-height:100vh;transition:all .3s}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar.active[_ngcontent-%COMP%]{margin-left:0}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.section-board[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;flex-wrap:wrap}.mat-card[_ngcontent-%COMP%]{width:255px;margin:20px;height:150px}.root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-item[_ngcontent-%COMP%]{list-style:none}.img-circle[_ngcontent-%COMP%]{margin-top:3px;height:33px;width:33px;-webkit-clip-path:circle(50%);clip-path:circle(50%)}.icon-link[_ngcontent-%COMP%]{display:inline-flex;font-size:25px;text-decoration:none;width:40px;height:40px;transition:.5s linear;position:relative;z-index:1;margin:auto}.icon-link[_ngcontent-%COMP%]:hover{color:#fff}.icon-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto}.fa-plus[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bell[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bars[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-home[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-board[_ngcontent-%COMP%]{font-size:20px;margin:11px 5px 5px}.board-header[_ngcontent-%COMP%]{display:flex;margin:inherit}.nav[_ngcontent-%COMP%]{background:#ffffff;display:flex;margin:inherit}.nav-brand-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;margin:auto}.nav-brand-end[_ngcontent-%COMP%]{margin-left:1100px;display:flex;justify-content:flex-end;height:40px;text-decoration:none;align-items:center;background-color:#ffffff4d;box-shadow:none;color:#fff;font-weight:bold;line-height:32px;padding:0;white-space:nowrap}.nav-content[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;line-height:1}.nav-item[_ngcontent-%COMP%]{display:flex;width:32px;justify-content:center;align-items:center;margin:0;height:40px}h1.app-name[_ngcontent-%COMP%]{padding:4px}.app-name[_ngcontent-%COMP%]{font-size:20px;font-family:"Lato",sans-serif;font-weight:bold}.has-gradient-text[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffffff,#efd0d0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.board[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:210%;min-width:0;min-height:0}.board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow-x:auto}.board-columns[_ngcontent-%COMP%]{display:flex;flex-grow:1}.board-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:0;min-width:300px;margin:50px;padding:25px;border-radius:4px;background:#ffffff}[_ngcontent-%COMP%]:not(:first-child){margin-left:0}.column-title[_ngcontent-%COMP%]{color:#523535;font-size:15px;font-weight:800;font-family:"Lato",sans-serif;text-transform:uppercase;margin-bottom:20px}.task[_ngcontent-%COMP%]{display:flex;padding:18px 12px;background:#ffffff;border-bottom:solid 1px #ffffff;border-radius:4px;margin-bottom:15px;box-shadow:0 5px 5px -3px #00000014,0 3px 14px 2px #0000000d}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.tasks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-board[_ngcontent-%COMP%]{background-color:#4c94be;border-radius:.3rem;transition:background-color .15s}.section-board[_ngcontent-%COMP%]{width:80rem;display:flex;flex-wrap:wrap}.main-content[_ngcontent-%COMP%]{justify-content:space-between;align-content:space-around;height:auto;margin:auto}.card[_ngcontent-%COMP%]{width:255px;margin:20px;height:150px}.title-board[_ngcontent-%COMP%]{margin-top:30px;margin-left:35px;font-size:22px}.fa-briefcase[_ngcontent-%COMP%], .fa-clipboard[_ngcontent-%COMP%]{margin-right:5px}.fa-plus-circle[_ngcontent-%COMP%]{font-size:50px;margin-top:30px}.img-circle-add-board[_ngcontent-%COMP%]{margin:inherit;text-align:center}.modal-card[_ngcontent-%COMP%]{margin-left:auto}.modal-card-foot[_ngcontent-%COMP%]{align-items:center;background-color:#f5f5f5;display:flex;justify-content:right;padding:20px;position:relative}']}),i})();function pt(i,r){if(1&i&&(e.TgZ(0,"div",45),e.TgZ(1,"div",46),e.TgZ(2,"p",47),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",48),e.TgZ(5,"div",49),e.TgZ(6,"span",50),e.TgZ(7,"b"),e._uU(8,"Ch\u1ee7 s\u1edf h\u1eefu: "),e.qZA(),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.MGl("routerLink","/board/",t.id,""),e.xp6(3),e.Oqu(t.title),e.xp6(6),e.Oqu(t.owner.username)}}function ut(i,r){if(1&i&&(e.TgZ(0,"div",45),e.TgZ(1,"div",46),e.TgZ(2,"p",47),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",48),e.TgZ(5,"div",49),e.TgZ(6,"span",50),e.TgZ(7,"b"),e._uU(8,"Ch\u1ee7 s\u1edf h\u1eefu: "),e.qZA(),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.MGl("routerLink","/board/",t.id,""),e.xp6(3),e.Oqu(t.title),e.xp6(6),e.Oqu(t.owner.username)}}function ht(i,r){if(1&i&&(e.TgZ(0,"div",45),e.TgZ(1,"div",46),e.TgZ(2,"p",47),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",48),e.TgZ(5,"div",49),e.TgZ(6,"span",50),e.TgZ(7,"b"),e._uU(8,"Ch\u1ee7 s\u1edf h\u1eefu: "),e.qZA(),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.MGl("routerLink","/board/",t.id,""),e.xp6(3),e.Oqu(t.title),e.xp6(6),e.Oqu(t.owner.username)}}function mt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ti\xeau \u0111\u1ec1 c\u1ea7n \u0111\u01b0\u1ee3c nh\u1eadp."),e.qZA())}function _t(i,r){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,mt,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(39);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ft(i,r){1&i&&(e.TgZ(0,"div",52),e.TgZ(1,"button",53),e._uU(2,"T\u1ea1o"),e.qZA(),e.qZA())}function bt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",52),e.TgZ(1,"button",54),e.NdJ("click",function(){return e.CHM(t),e.oxw().createNewBoard()}),e._uU(2,"T\u1ea1o"),e.qZA(),e.qZA()}}function vt(i,r){1&i&&(e.TgZ(0,"div",56),e._uU(1," H\xe3y nh\u1eadp ti\xeau \u0111\u1ec1 "),e.qZA())}function Ct(i,r){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,vt,2,0,"div",55),e.qZA()),2&i){e.oxw();const t=e.MAs(73);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}let xt=(()=>{class i{constructor(t,n,o,s,a,c){this.modalService=t,this.boardService=n,this.authenticateService=o,this.toastService=s,this.columnService=a,this.workspaceService=c,this.boards=[],this.privateBoards=[],this.publicBoards=[],this.newBoard={title:"",owner:{id:-1},columns:[],type:""},this.workspaces=[],this.workspace={boards:[],id:0,members:[],owner:void 0,title:"",type:"",privacy:""}}ngOnInit(){this.loggedInUser=this.authenticateService.getCurrentUserValue(),this.getBoards(),this.getPublicBoard(),this.getPrivateBoard(),this.getAllWorkspace()}getBoards(){this.boardService.getOwnedBoard(this.loggedInUser.id).subscribe(t=>{this.boards=t})}getPrivateBoard(){this.boardService.getBoardByTypeAndUser("Private",this.loggedInUser.id).subscribe(t=>{this.privateBoards=t})}getPublicBoard(){this.boardService.getBoardByType("Public").subscribe(t=>{this.publicBoards=t})}displayAddBoardModal(){document.getElementById("create-board").classList.add("is-active")}createNewBoard(){var t=this;this.newBoard.owner=this.loggedInUser,this.boardService.addBoard(this.newBoard).subscribe(function(){var n=(0,be.Z)(function*(o){t.createdBoard=o,t.toastService.showMessage("B\u1ea3ng \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o","is-success"),t.getBoards(),t.getPublicBoard(),t.getPrivateBoard(),t.resetInput(),t.hideCreateBoard()});return function(o){return n.apply(this,arguments)}}())}updateCreatedBoard(){var t;this.boardService.updateBoard(null===(t=this.createdBoard)||void 0===t?void 0:t.id,this.createdBoard).subscribe(()=>{this.getBoards()})}resetInput(){this.newBoard={title:"",owner:{id:-1},columns:[],type:""}}hideCreateBoard(){document.getElementById("create-board").classList.remove("is-active")}premadeColumnInBoard(t,n,o){this.columnService.createAColumn({cards:[],position:n,title:t}).subscribe(a=>{o.columns.push(a),this.updateCreatedBoard()})}showCreateWorkspaceModal(){document.getElementById("create-workspace").classList.add("is-active")}hideCreateWorkspaceModal(){this.resetWorkspaceInput(),document.getElementById("create-workspace").classList.remove("is-active")}getAllWorkspace(){this.workspaceService.findAllByOwnerId(this.loggedInUser.id).subscribe(t=>{this.workspaces=t})}createWorkspace(){this.workspace.owner=this.loggedInUser,this.workspaceService.createWorkspace(this.workspace).subscribe(()=>{this.getAllWorkspace(),this.toastService.showMessage("Nh\xf3m \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o","is-success"),this.hideCreateWorkspaceModal()})}resetWorkspaceInput(){this.workspace={boards:[],id:0,members:[],owner:void 0,title:"",type:"",privacy:""}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ve),e.Y36(M.$),e.Y36(x.i),e.Y36(O.k),e.Y36(K),e.Y36(E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-boards"]],decls:108,vars:16,consts:[[1,"wrapper"],[3,"workspaces"],[1,"container","column","is-10",2,"padding","10px 13px 13px 106px"],["top",""],[1,"title-board"],[1,"far","fa-clipboard"],[1,"section-board"],[1,"card"],[1,"img-circle-add-board"],[3,"click"],[1,"fas","fa-plus-circle"],["class","card",3,"routerLink",4,"ngFor","ngForOf"],["target",""],["id","create-board",1,"modal"],[1,"modal-background",3,"click"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"label"],["type","text","required","",1,"input",3,"ngModel","ngModelChange"],["boardTitle","ngModel"],["class","alert",4,"ngIf"],[1,"control"],[1,"input",3,"ngModel","ngModelChange"],["value","Private"],["value","Public"],[1,"is-info","user-button","is-light"],[1,"modal-card-foot"],["class"," is-right",4,"ngIf"],[1,"button","is-light","is-right",3,"click"],["id","create-workspace",1,"modal"],[1,"field",2,"position","relative"],["workspaceTitle","ngModel"],["required","",1,"input",3,"ngModel","ngModelChange"],["workspaceType","ngModel"],["value","IT"],["value","K\u1ebf to\xe1n"],["value","HR"],["value","Kh\xe1c"],["workspacePrivacy","ngModel"],[1,"alert"],[1,"button","is-dark",3,"disabled","click"],[1,"button","is-light",3,"click"],[1,"card",3,"routerLink"],[1,"card-header"],[1,"card-header-title"],[1,"card-content"],[1,"content"],[2,"font-size","small"],[4,"ngIf"],[1,"is-right"],["disabled","",1,"button","is-dark","is-light","is-right"],[1,"button","is-dark","is-light","is-right",3,"click"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-side-bar",1),e.TgZ(2,"div",2,3),e.TgZ(4,"div",4),e.TgZ(5,"h1"),e._UZ(6,"i",5),e._uU(7,"B\u1ea3ng c\u1ee7a b\u1ea1n"),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"a",9),e.NdJ("click",function(){return n.displayAddBoardModal()}),e._UZ(12,"i",10),e.qZA(),e.qZA(),e.qZA(),e.YNc(13,pt,10,3,"div",11),e.qZA(),e.TgZ(14,"div",4,12),e.TgZ(16,"h1"),e._UZ(17,"i",5),e._uU(18,"B\u1ea3ng c\xf4ng khai"),e.qZA(),e.qZA(),e.TgZ(19,"div",6),e.YNc(20,ut,10,3,"div",11),e.qZA(),e.TgZ(21,"div",4,12),e.TgZ(23,"h1"),e._UZ(24,"i",5),e._uU(25,"B\u1ea3ng ri\xeang t\u01b0"),e.qZA(),e.qZA(),e.TgZ(26,"div",6),e.YNc(27,ht,10,3,"div",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",13),e.TgZ(29,"div",14),e.NdJ("click",function(){return n.hideCreateBoard()}),e.qZA(),e.TgZ(30,"div",15),e.TgZ(31,"header",16),e.TgZ(32,"p",17),e._uU(33,"T\u1ea1o m\u1ed9t b\u1ea3ng"),e.qZA(),e.TgZ(34,"button",18),e.NdJ("click",function(){return n.hideCreateBoard()}),e.qZA(),e.qZA(),e.TgZ(35,"section",19),e.TgZ(36,"label",20),e._uU(37,"Ti\xeau \u0111\u1ec1"),e.qZA(),e.TgZ(38,"input",21,22),e.NdJ("ngModelChange",function(s){return n.newBoard.title=s}),e.qZA(),e.YNc(40,_t,2,1,"div",23),e.TgZ(41,"label",20),e._uU(42,"Lo\u1ea1i"),e.qZA(),e.TgZ(43,"div",24),e.TgZ(44,"select",25),e.NdJ("ngModelChange",function(s){return n.newBoard.type=s}),e.TgZ(45,"option",26),e._uU(46,"Ri\xeang t\u01b0"),e.qZA(),e.TgZ(47,"option",27),e._uU(48,"C\xf4ng khai"),e.qZA(),e.qZA(),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"div",24),e.TgZ(51,"label",20),e._uU(52,"Ng\u01b0\u1eddi t\u1ea1o: "),e.TgZ(53,"span",28),e._uU(54),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"footer",29),e.YNc(56,ft,3,0,"div",30),e.YNc(57,bt,3,0,"div",30),e.TgZ(58,"button",31),e.NdJ("click",function(){return n.hideCreateBoard()}),e._uU(59,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",32),e.TgZ(61,"div",14),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e.qZA(),e.TgZ(62,"div",15),e.TgZ(63,"header",16),e.TgZ(64,"p",17),e._uU(65,"T\u1ea1o m\u1ed9t nh\xf3m m\u1edbi"),e.qZA(),e.TgZ(66,"button",18),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e.qZA(),e.qZA(),e.TgZ(67,"section",19),e.TgZ(68,"div",33),e.TgZ(69,"label",20),e._uU(70,"Title"),e.qZA(),e.TgZ(71,"div",24),e.TgZ(72,"input",21,34),e.NdJ("ngModelChange",function(s){return n.workspace.title=s}),e.qZA(),e.qZA(),e.TgZ(74,"label",20),e._uU(75,"Ph\xe2n lo\u1ea1i nh\xf3m:"),e.qZA(),e.TgZ(76,"div",24),e.TgZ(77,"select",35,36),e.NdJ("ngModelChange",function(s){return n.workspace.type=s}),e.TgZ(79,"option",37),e._uU(80,"IT"),e.qZA(),e.TgZ(81,"option",38),e._uU(82,"K\u1ebf to\xe1n"),e.qZA(),e.TgZ(83,"option",39),e._uU(84,"Nh\xe2n s\u1ef1"),e.qZA(),e.TgZ(85,"option",40),e._uU(86,"Kh\xe1c"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"label",20),e._uU(88,"Quy\u1ec1n h\u1ea1n"),e.qZA(),e.TgZ(89,"div",24),e.TgZ(90,"select",35,41),e.NdJ("ngModelChange",function(s){return n.workspace.privacy=s}),e.TgZ(92,"option",26),e._uU(93,"Ri\xeang t\u01b0"),e.qZA(),e.TgZ(94,"option",27),e._uU(95,"C\xf4ng khai"),e.qZA(),e.qZA(),e.qZA(),e.YNc(96,Ct,2,1,"div",23),e.qZA(),e.TgZ(97,"div",24),e.TgZ(98,"label",20),e._uU(99,"Ng\u01b0\u1eddi t\u1ea1o: "),e.TgZ(100,"span",28),e._uU(101),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(102,"footer",29),e.TgZ(103,"div",42),e.TgZ(104,"button",43),e.NdJ("click",function(){return n.createWorkspace()}),e._uU(105,"T\u1ea1o"),e.qZA(),e.qZA(),e.TgZ(106,"button",44),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e._uU(107,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.MAs(39),s=e.MAs(73),a=e.MAs(78),c=e.MAs(91);e.xp6(1),e.Q6J("workspaces",n.workspaces),e.xp6(12),e.Q6J("ngForOf",n.boards),e.xp6(7),e.Q6J("ngForOf",n.publicBoards),e.xp6(7),e.Q6J("ngForOf",n.privateBoards),e.xp6(11),e.Q6J("ngModel",n.newBoard.title),e.xp6(2),e.Q6J("ngIf",o.invalid&&o.touched),e.xp6(4),e.Q6J("ngModel",n.newBoard.type),e.xp6(10),e.Oqu(n.loggedInUser.username),e.xp6(2),e.Q6J("ngIf",o.invalid),e.xp6(1),e.Q6J("ngIf",!o.invalid),e.xp6(15),e.Q6J("ngModel",n.workspace.title),e.xp6(5),e.Q6J("ngModel",n.workspace.type),e.xp6(13),e.Q6J("ngModel",n.workspace.privacy),e.xp6(6),e.Q6J("ngIf",s.invalid&&s.touched),e.xp6(5),e.Oqu(n.loggedInUser.username),e.xp6(3),e.Q6J("disabled",s.invalid||a.invalid||c.invalid)}},directives:[W,_.sg,d.Fj,d.Q7,d.JJ,d.On,_.O5,d.EJ,d.YN,d.Kr,b.rH],styles:['a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit;text-decoration:none;transition:all .3s}.navbar[_ngcontent-%COMP%]{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:40px;box-shadow:1px 1px 3px #0000001a}.navbar-btn[_ngcontent-%COMP%]{box-shadow:none;outline:none!important;border:none}.line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch;background-image:linear-gradient(to left,#fff1eb 0%,#6d7fcc 100%)}#sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background:#7386D5;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}#content[_ngcontent-%COMP%]{width:100%;padding:20px;min-height:100vh;transition:all .3s}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar.active[_ngcontent-%COMP%]{margin-left:0}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.section-board[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;flex-wrap:wrap}.mat-card[_ngcontent-%COMP%]{width:255px;margin:20px;height:150px}.root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-item[_ngcontent-%COMP%]{list-style:none}.img-circle[_ngcontent-%COMP%]{margin-top:3px;height:33px;width:33px;-webkit-clip-path:circle(50%);clip-path:circle(50%)}.icon-link[_ngcontent-%COMP%]{display:inline-flex;font-size:25px;text-decoration:none;width:40px;height:40px;transition:.5s linear;position:relative;z-index:1;margin:auto}.icon-link[_ngcontent-%COMP%]:hover{color:#fff}.icon-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto}.fa-plus[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bell[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bars[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-home[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-board[_ngcontent-%COMP%]{font-size:20px;margin:11px 5px 5px}.board-header[_ngcontent-%COMP%]{display:flex;margin:inherit}.nav[_ngcontent-%COMP%]{background:#ffffff;display:flex;margin:inherit}.nav-brand-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;margin:auto}.nav-brand-end[_ngcontent-%COMP%]{margin-left:1100px;display:flex;justify-content:flex-end;height:40px;text-decoration:none;align-items:center;background-color:#ffffff4d;box-shadow:none;color:#fff;font-weight:bold;line-height:32px;padding:0;white-space:nowrap}.nav-content[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;line-height:1}.nav-item[_ngcontent-%COMP%]{display:flex;width:32px;justify-content:center;align-items:center;margin:0;height:40px}h1.app-name[_ngcontent-%COMP%]{padding:4px}.app-name[_ngcontent-%COMP%]{font-size:20px;font-family:"Lato",sans-serif;font-weight:bold}.has-gradient-text[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffffff,#efd0d0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.board[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:210%;min-width:0;min-height:0}.board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow-x:auto}.board-columns[_ngcontent-%COMP%]{display:flex;flex-grow:1}.board-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:0;min-width:300px;margin:50px;padding:25px;border-radius:4px;background:#ffffff}[_ngcontent-%COMP%]:not(:first-child){margin-left:0}.column-title[_ngcontent-%COMP%]{color:#523535;font-size:15px;font-weight:800;font-family:"Lato",sans-serif;text-transform:uppercase;margin-bottom:20px}.task[_ngcontent-%COMP%]{display:flex;padding:18px 12px;background:#ffffff;border-bottom:solid 1px #ffffff;border-radius:4px;margin-bottom:15px;box-shadow:0 5px 5px -3px #00000014,0 3px 14px 2px #0000000d}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.tasks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-board[_ngcontent-%COMP%]{background-color:#4c94be;border-radius:.3rem;transition:background-color .15s}.section-board[_ngcontent-%COMP%]{width:80rem;display:flex;flex-wrap:wrap}.main-content[_ngcontent-%COMP%]{justify-content:space-between;align-content:space-around;height:auto;margin:auto}.card[_ngcontent-%COMP%]{width:255px;margin:20px;height:150px}.title-board[_ngcontent-%COMP%]{margin-top:30px;margin-left:35px;font-size:22px}.fa-briefcase[_ngcontent-%COMP%], .fa-clipboard[_ngcontent-%COMP%]{margin-right:5px}.fa-plus-circle[_ngcontent-%COMP%]{font-size:50px;margin-top:30px}.img-circle-add-board[_ngcontent-%COMP%]{margin:inherit;text-align:center}.modal-card[_ngcontent-%COMP%]{margin-left:auto}.modal-card-foot[_ngcontent-%COMP%]{align-items:center;background-color:#f5f5f5;display:flex;justify-content:right;padding:20px;position:relative}']}),i})();var H=u(7468),k=u(521),m=u(9490),Ce=u(9238),f=u(9765),S=u(5319),X=u(7574),xe=u(3637),Zt=u(6561);function wt(i){const{subscriber:r,counter:t,period:n}=i;r.next(t),this.schedule({subscriber:r,counter:t+1,period:n},n)}var Tt=u(1927),Ze=u(6682),Q=u(6782),ee=u(9761),Mt=u(8002),ke=u(5257),At=u(3342),Pt=u(3190),we=u(946);function te(i,r,t){for(let n in r)if(r.hasOwnProperty(n)){const o=r[n];o?i.setProperty(n,o,(null==t?void 0:t.has(n))?"important":""):i.removeProperty(n)}return i}function q(i,r){const t=r?"":"none";te(i.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Te(i,r,t){te(i.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},t)}function Y(i,r){return r&&"none"!=r?i+" "+r:i}function Me(i){const r=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*r}function ne(i,r){return i.getPropertyValue(r).split(",").map(n=>n.trim())}function ie(i){const r=i.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}function oe(i,r,t){const{top:n,bottom:o,left:s,right:a}=i;return t>=n&&t<=o&&r>=s&&r<=a}function U(i,r,t){i.top+=r,i.bottom=i.top+i.height,i.left+=t,i.right=i.left+i.width}function Ae(i,r,t,n){const{top:o,right:s,bottom:a,left:c,width:l,height:g}=i,p=l*r,h=g*r;return n>o-h&&n<a+h&&t>c-p&&t<s+p}class Pe{constructor(r,t){this._document=r,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(r){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),r.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ie(t)})})}handleScroll(r){const t=(0,k.sA)(r),n=this.positions.get(t);if(!n)return null;const o=t===this._document?t.documentElement:t,s=n.scrollPosition;let a,c;if(t===this._document){const p=this._viewportRuler.getViewportScrollPosition();a=p.top,c=p.left}else a=t.scrollTop,c=t.scrollLeft;const l=s.top-a,g=s.left-c;return this.positions.forEach((p,h)=>{p.clientRect&&t!==h&&o.contains(h)&&U(p.clientRect,l,g)}),s.top=a,s.left=c,{top:l,left:g}}}function Ee(i){const r=i.cloneNode(!0),t=r.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();r.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===n?qe(i,r):("input"===n||"select"===n||"textarea"===n)&&Oe(i,r),ye("canvas",i,r,qe),ye("input, textarea, select",i,r,Oe),r}function ye(i,r,t,n){const o=r.querySelectorAll(i);if(o.length){const s=t.querySelectorAll(i);for(let a=0;a<o.length;a++)n(o[a],s[a])}}let yt=0;function Oe(i,r){"file"!==r.type&&(r.value=i.value),"radio"===r.type&&r.name&&(r.name=`mat-clone-${r.name}-${yt++}`)}function qe(i,r){const t=r.getContext("2d");if(t)try{t.drawImage(i,0,0)}catch(n){}}const Be=(0,k.i$)({passive:!0}),De=(0,k.i$)({passive:!1}),re=new Set(["position"]);class qt{constructor(r,t,n,o,s,a){this._config=t,this._document=n,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new f.xQ,this._pointerMoveSubscription=S.w.EMPTY,this._pointerUpSubscription=S.w.EMPTY,this._scrollSubscription=S.w.EMPTY,this._resizeSubscription=S.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new f.xQ,this.started=new f.xQ,this.released=new f.xQ,this.ended=new f.xQ,this.entered=new f.xQ,this.exited=new f.xQ,this.dropped=new f.xQ,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(g=>{const p=(0,k.sA)(c);return!!p&&(p===g||g.contains(p))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const l=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const y=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),w=this._dropContainer;if(!y)return void this._endDragSequence(c);(!w||!w.isDragging()&&!w.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),c.preventDefault();const g=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(g),this._dropContainer)this._updateActiveDropContainer(g,l);else{const p=this._activeTransform;p.x=g.x-this._pickupPositionOnPage.x+this._passiveTransform.x,p.y=g.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(p.x,p.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${p.x} ${p.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:g,event:c,distance:this._getDragDistance(g),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this.withRootElement(r).withParent(t.parentDragRef||null),this._parentPositions=new Pe(n,s),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(r){const t=(0,m.Ig)(r);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(n=>q(n,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(r){this._handles=r.map(n=>(0,m.fI)(n)),this._handles.forEach(n=>q(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(r){return this._previewTemplate=r,this}withPlaceholderTemplate(r){return this._placeholderTemplate=r,this}withRootElement(r){const t=(0,m.fI)(r);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,De),t.addEventListener("touchstart",this._pointerDown,Be)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(r){return this._boundaryElement=r?(0,m.fI)(r):null,this._resizeSubscription.unsubscribe(),r&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(r){return this._parentDragRef=r,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&z(this._rootElement),z(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(r){!this._disabledHandles.has(r)&&this._handles.indexOf(r)>-1&&(this._disabledHandles.add(r),q(r,!0))}enableHandle(r){this._disabledHandles.has(r)&&(this._disabledHandles.delete(r),q(r,this.disabled))}withDirection(r){return this._direction=r,this}_withDropContainer(r){this._dropContainer=r}getFreeDragPosition(){const r=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:r.x,y:r.y}}setFreeDragPosition(r){return this._activeTransform={x:0,y:0},this._passiveTransform.x=r.x,this._passiveTransform.y=r.y,this._dropContainer||this._applyRootElementTransform(r.x,r.y),this}withPreviewContainer(r){return this._previewContainer=r,this}_sortFromLastPointerPosition(){const r=this._lastKnownPointerPosition;r&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(r),r)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&z(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&z(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(r){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(r),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(r);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(r){N(r)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const n=this._rootElement,o=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();o.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),Te(n,!1,re),this._document.body.appendChild(o.replaceChild(s,n)),this._getPreviewInsertionPoint(o,c).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(r,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),o=N(t),s=!o&&0!==t.button,a=this._rootElement,c=(0,k.sA)(t),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),g=o?(0,Ce.yG)(t):(0,Ce.X6)(t);if(c&&c.draggable&&"mousedown"===t.type&&t.preventDefault(),n||s||l||g)return;this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(C=>this._updateOnScroll(C)),this._boundaryElement&&(this._boundaryRect=ie(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(r,t);const h=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:h.x,y:h.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(r){Te(this._rootElement,!0,re),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),o=this._getPointerPositionOnPage(r),s=this._getDragDistance(o),a=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:o}),t.drop(this,n,this._initialIndex,this._initialContainer,a,s,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:r,y:t},{x:n,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,r,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,r,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,o),this._dropContainer._sortItem(this,r,t,this._pointerDirectionDelta),this._applyPreviewTransform(r-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const r=this._previewTemplate,t=this.previewClass,n=r?r.template:null;let o;if(n&&r){const s=r.matchSize?this._rootElement.getBoundingClientRect():null,a=r.viewContainer.createEmbeddedView(n,r.context);a.detectChanges(),o=Se(a,this._document),this._previewRef=a,r.matchSize?Ue(o,s):o.style.transform=$(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;o=Ee(s),Ue(o,s.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return te(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},re),q(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>o.classList.add(s)):o.classList.add(t)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const r=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(r.left,r.top);const t=function(i){const r=getComputedStyle(i),t=ne(r,"transition-property"),n=t.find(c=>"transform"===c||"all"===c);if(!n)return 0;const o=t.indexOf(n),s=ne(r,"transition-duration"),a=ne(r,"transition-delay");return Me(s[o])+Me(a[o])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const o=a=>{(!a||(0,k.sA)(a)===this._preview&&"transform"===a.propertyName)&&(this._preview.removeEventListener("transitionend",o),n(),clearTimeout(s))},s=setTimeout(o,1.5*t);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const r=this._placeholderTemplate,t=r?r.template:null;let n;return t?(this._placeholderRef=r.viewContainer.createEmbeddedView(t,r.context),this._placeholderRef.detectChanges(),n=Se(this._placeholderRef,this._document)):n=Ee(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(r,t){const n=this._rootElement.getBoundingClientRect(),o=r===this._rootElement?null:r,s=o?o.getBoundingClientRect():n,a=N(t)?t.targetTouches[0]:t,c=this._getViewportScrollPosition();return{x:s.left-n.left+(a.pageX-s.left-c.left),y:s.top-n.top+(a.pageY-s.top-c.top)}}_getPointerPositionOnPage(r){const t=this._getViewportScrollPosition(),n=N(r)?r.touches[0]||r.changedTouches[0]||{pageX:0,pageY:0}:r,o=n.pageX-t.left,s=n.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const c=this._ownerSVGElement.createSVGPoint();return c.x=o,c.y=s,c.matrixTransform(a.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(r){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:o}=this.constrainPosition?this.constrainPosition(r,this):r;if("x"===this.lockAxis||"x"===t?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,c=this._boundaryRect,l=this._previewRect,g=c.top+a,p=c.bottom-(l.height-a);n=Ie(n,c.left+s,c.right-(l.width-s)),o=Ie(o,g,p)}return{x:n,y:o}}_updatePointerDirectionDelta(r){const{x:t,y:n}=r,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),c=Math.abs(n-s.y);return a>this._config.pointerDirectionChangeThreshold&&(o.x=t>s.x?1:-1,s.x=t),c>this._config.pointerDirectionChangeThreshold&&(o.y=n>s.y?1:-1,s.y=n),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const r=this._handles.length>0||!this.isDragging();r!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=r,q(this._rootElement,r))}_removeRootElementListeners(r){r.removeEventListener("mousedown",this._pointerDown,De),r.removeEventListener("touchstart",this._pointerDown,Be)}_applyRootElementTransform(r,t){const n=$(r,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Y(n,this._initialTransform)}_applyPreviewTransform(r,t){var n;const o=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,s=$(r,t);this._preview.style.transform=Y(s,o)}_getDragDistance(r){const t=this._pickupPositionOnPage;return t?{x:r.x-t.x,y:r.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:r,y:t}=this._passiveTransform;if(0===r&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===o.width&&0===o.height)return;const s=n.left-o.left,a=o.right-n.right,c=n.top-o.top,l=o.bottom-n.bottom;n.width>o.width?(s>0&&(r+=s),a>0&&(r-=a)):r=0,n.height>o.height?(c>0&&(t+=c),l>0&&(t-=l)):t=0,(r!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:r})}_getDragStartDelay(r){const t=this.dragStartDelay;return"number"==typeof t?t:N(r)?t.touch:t?t.mouse:0}_updateOnScroll(r){const t=this._parentPositions.handleScroll(r);if(t){const n=(0,k.sA)(r);this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&U(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const r=this._parentPositions.positions.get(this._document);return r?r.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,k.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(r,t){const n=this._previewContainer||"global";if("parent"===n)return r;if("global"===n){const o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return(0,m.fI)(n)}}function $(i,r){return`translate3d(${Math.round(i)}px, ${Math.round(r)}px, 0)`}function Ie(i,r,t){return Math.max(r,Math.min(t,i))}function z(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function N(i){return"t"===i.type[0]}function Se(i,r){const t=i.rootNodes;if(1===t.length&&t[0].nodeType===r.ELEMENT_NODE)return t[0];const n=r.createElement("div");return t.forEach(o=>n.appendChild(o)),n}function Ue(i,r){i.style.width=`${r.width}px`,i.style.height=`${r.height}px`,i.style.transform=$(r.left,r.top)}function se(i,r,t){const n=F(r,i.length-1),o=F(t,i.length-1);if(n===o)return;const s=i[n],a=o<n?-1:1;for(let c=n;c!==o;c+=a)i[c]=i[c+a];i[o]=s}function F(i,r){return Math.max(0,Math.min(r,i))}class Dt{constructor(r,t,n,o,s){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new f.xQ,this.entered=new f.xQ,this.exited=new f.xQ,this.dropped=new f.xQ,this.sorted=new f.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=S.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new f.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(i=0,r=xe.P){return(!(0,Zt.k)(i)||i<0)&&(i=0),(!r||"function"!=typeof r.schedule)&&(r=xe.P),new X.y(t=>(t.add(r.schedule(wt,i,{subscriber:t,counter:0,period:i})),t))}(0,Tt.Z).pipe((0,Q.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?Je(a,-c):2===this._verticalScrollDirection&&Je(a,c),1===this._horizontalScrollDirection?Le(a,-c):2===this._horizontalScrollDirection&&Le(a,c)})},this.element=(0,m.fI)(r),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Pe(n,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(r,t,n,o){let s;this._draggingStarted(),null==o?(s=this.sortingDisabled?this._draggables.indexOf(r):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(r,t,n))):s=o;const a=this._activeDraggables,c=a.indexOf(r),l=r.getPlaceholderElement();let g=a[s];if(g===r&&(g=a[s+1]),c>-1&&a.splice(c,1),g&&!this._dragDropRegistry.isDragging(g)){const p=g.getRootElement();p.parentElement.insertBefore(l,p),a.splice(s,0,r)}else if(this._shouldEnterAsFirstChild(t,n)){const p=a[0].getRootElement();p.parentNode.insertBefore(l,p),a.unshift(r)}else(0,m.fI)(this.element).appendChild(l),a.push(r);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:r,container:this,currentIndex:this.getItemIndex(r)})}exit(r){this._reset(),this.exited.next({item:r,container:this})}drop(r,t,n,o,s,a,c){this._reset(),this.dropped.next({item:r,currentIndex:t,previousIndex:n,container:this,previousContainer:o,isPointerOverContainer:s,distance:a,dropPoint:c})}withItems(r){const t=this._draggables;return this._draggables=r,r.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>-1===r.indexOf(o))?this._reset():this._cacheItems()),this}withDirection(r){return this._direction=r,this}connectedTo(r){return this._siblings=r.slice(),this}withOrientation(r){return this._orientation=r,this}withScrollableParents(r){const t=(0,m.fI)(this.element);return this._scrollableElements=-1===r.indexOf(t)?[t,...r]:r.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(r){return this._isDragging?ae("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,n=>n.drag===r):this._draggables.indexOf(r)}isReceiving(){return this._activeSiblings.size>0}_sortItem(r,t,n,o){if(this.sortingDisabled||!this._clientRect||!Ae(this._clientRect,.05,t,n))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(r,t,n,o);if(-1===a&&s.length>0)return;const c="horizontal"===this._orientation,l=ae(s,v=>v.drag===r),g=s[a],h=g.clientRect,C=l>a?1:-1,y=this._getItemOffsetPx(s[l].clientRect,h,C),w=this._getSiblingOffsetPx(l,s,C),T=s.slice();se(s,l,a),this.sorted.next({previousIndex:l,currentIndex:a,container:this,item:r}),s.forEach((v,me)=>{if(T[me]===v)return;const j=v.drag===r,_e=j?y:w,Xe=j?r.getPlaceholderElement():v.drag.getRootElement();v.offset+=_e,c?(Xe.style.transform=Y(`translate3d(${Math.round(v.offset)}px, 0, 0)`,v.initialTransform),U(v.clientRect,0,_e)):(Xe.style.transform=Y(`translate3d(0, ${Math.round(v.offset)}px, 0)`,v.initialTransform),U(v.clientRect,_e,0))}),this._previousSwap.overlaps=oe(h,t,n),this._previousSwap.drag=g.drag,this._previousSwap.delta=c?o.x:o.y}_startScrollingIfNecessary(r,t){if(this.autoScrollDisabled)return;let n,o=0,s=0;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||n||Ae(a.clientRect,.05,r,t)&&([o,s]=function(i,r,t,n){const o=Re(r,n),s=We(r,t);let a=0,c=0;if(o){const l=i.scrollTop;1===o?l>0&&(a=1):i.scrollHeight-l>i.clientHeight&&(a=2)}if(s){const l=i.scrollLeft;1===s?l>0&&(c=1):i.scrollWidth-l>i.clientWidth&&(c=2)}return[a,c]}(c,a.clientRect,r,t),(o||s)&&(n=c))}),!o&&!s){const{width:a,height:c}=this._viewportRuler.getViewportSize(),l={width:a,height:c,top:0,right:a,bottom:c,left:0};o=Re(l,t),s=We(l,r),n=window}n&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=n,(o||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const r=(0,m.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=r.msScrollSnapType||r.scrollSnapType||"",r.scrollSnapType=r.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const r=(0,m.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(r).clientRect}_cacheItemPositions(){const r="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:ie(n)}}).sort((t,n)=>r?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const r=(0,m.fI)(this.element).style;r.scrollSnapType=r.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var n;const o=t.getRootElement();if(o){const s=null===(n=this._itemPositions.find(a=>a.drag===t))||void 0===n?void 0:n.initialTransform;o.style.transform=s||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(r,t,n){const o="horizontal"===this._orientation,s=t[r].clientRect,a=t[r+-1*n];let c=s[o?"width":"height"]*n;if(a){const l=o?"left":"top",g=o?"right":"bottom";-1===n?c-=a.clientRect[l]-s[g]:c+=s[l]-a.clientRect[g]}return c}_getItemOffsetPx(r,t,n){const o="horizontal"===this._orientation;let s=o?t.left-r.left:t.top-r.top;return-1===n&&(s+=o?t.width-r.width:t.height-r.height),s}_shouldEnterAsFirstChild(r,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,o="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const a=n[n.length-1].clientRect;return o?r>=a.right:t>=a.bottom}{const a=n[0].clientRect;return o?r<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(r,t,n,o){const s="horizontal"===this._orientation,a=ae(this._itemPositions,({drag:c,clientRect:l},g,p)=>{if(c===r)return p.length<2;if(o){const h=s?o.x:o.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return s?t>=Math.floor(l.left)&&t<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return-1!==a&&this.sortPredicate(a,r,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(r,t){return null!=this._clientRect&&oe(this._clientRect,r,t)}_getSiblingContainerFromPosition(r,t,n){return this._siblings.find(o=>o._canReceive(r,t,n))}_canReceive(r,t,n){if(!this._clientRect||!oe(this._clientRect,t,n)||!this.enterPredicate(r,this))return!1;const o=this._getShadowRoot().elementFromPoint(t,n);if(!o)return!1;const s=(0,m.fI)(this.element);return o===s||s.contains(o)}_startReceiving(r,t){const n=this._activeSiblings;!n.has(r)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(n.add(r),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(r){this._activeSiblings.delete(r),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(r=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(r);t&&(this._itemPositions.forEach(({clientRect:n})=>{U(n,t.top,t.left)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const r=(0,k.kV)((0,m.fI)(this.element));this._cachedShadowRoot=r||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const r=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,r))}}function ae(i,r){for(let t=0;t<i.length;t++)if(r(i[t],t,i))return t;return-1}function Je(i,r){i===window?i.scrollBy(0,r):i.scrollTop+=r}function Le(i,r){i===window?i.scrollBy(r,0):i.scrollLeft+=r}function Re(i,r){const{top:t,bottom:n,height:o}=i,s=.05*o;return r>=t-s&&r<=t+s?1:r>=n-s&&r<=n+s?2:0}function We(i,r){const{left:t,right:n,width:o}=i,s=.05*o;return r>=t-s&&r<=t+s?1:r>=n-s&&r<=n+s?2:0}const V=(0,k.i$)({passive:!1,capture:!0});let He=(()=>{class i{constructor(t,n){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new f.xQ,this.pointerUp=new f.xQ,this.scroll=new f.xQ,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,V)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,V)}startDragging(t,n){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const o=n.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:V}),o||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:V}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(t){const n=this._activeDragInstances.indexOf(t);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new X.y(o=>this._ngZone.runOutsideAngular(()=>{const a=c=>{this._activeDragInstances.length&&o.next(c)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,Ze.T)(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.R0b),e.LFG(_.K0))},i.\u0275prov=e.Yz7({factory:function(){return new i(e.LFG(e.R0b),e.LFG(_.K0))},token:i,providedIn:"root"}),i})();const St={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ce=(()=>{class i{constructor(t,n,o,s){this._document=t,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=s}createDrag(t,n=St){return new qt(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Dt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(_.K0),e.LFG(e.R0b),e.LFG(H.rL),e.LFG(He))},i.\u0275prov=e.Yz7({factory:function(){return new i(e.LFG(_.K0),e.LFG(e.R0b),e.LFG(H.rL),e.LFG(He))},token:i,providedIn:"root"}),i})();const de=new e.OlP("CDK_DRAG_PARENT"),le=new e.OlP("CdkDropListGroup");let Ut=(()=>{class i{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,m.Ig)(t)}ngOnDestroy(){this._items.clear()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[e._Bn([{provide:le,useExisting:i}])]}),i})();const Qe=new e.OlP("CDK_DRAG_CONFIG");let Nt=0;const Ye=new e.OlP("CdkDropList");let Jt=(()=>{class i{constructor(t,n,o,s,a,c,l){this.element=t,this._changeDetectorRef=o,this._scrollDispatcher=s,this._dir=a,this._group=c,this._destroyed=new f.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+Nt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(g,p)=>this.enterPredicate(g.data,p.data),this._dropListRef.sortPredicate=(g,p,h)=>this.sortPredicate(g,p.data,h.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),c&&c._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=(0,m.Ig)(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=i._dropLists.indexOf(this);t>-1&&i._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,ee.O)(this._dir.value),(0,Q.R)(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=(0,m.Eq)(this.connectedTo).map(o=>"string"==typeof o?i._dropLists.find(a=>a.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===n.indexOf(o)&&n.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,m.Ig)(this.sortingDisabled),t.autoScrollDisabled=(0,m.Ig)(this.autoScrollDisabled),t.autoScrollStep=(0,m.su)(this.autoScrollStep,2),t.connectedTo(n.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:n,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:a,listOrientation:c}=t;this.disabled=null!=o&&o,this.sortingDisabled=null!=s&&s,this.autoScrollDisabled=null!=a&&a,this.orientation=c||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(ce),e.Y36(e.sBO),e.Y36(H.mF),e.Y36(we.Is,8),e.Y36(le,12),e.Y36(Qe,8))},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,n){2&t&&(e.uIk("id",n.id),e.ekj("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:le,useValue:void 0},{provide:Ye,useExisting:i}])]}),i._dropLists=[],i})();const ge=new e.OlP("CdkDragHandle");let Lt=(()=>{class i{constructor(t,n){this.element=t,this._stateChanges=new f.xQ,this._disabled=!1,this._parentDrag=n}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,m.Ig)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(de,12))},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[e._Bn([{provide:ge,useExisting:i}])]}),i})();const $e=new e.OlP("CdkDragPlaceholder"),ze=new e.OlP("CdkDragPreview");let Wt=(()=>{class i{constructor(t,n,o,s,a,c,l,g,p,h,C){this.element=t,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=p,this._selfHandle=h,this._parentDrag=C,this._destroyed=new f.xQ,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new X.y(y=>{const w=this._dragRef.moved.pipe((0,Mt.U)(T=>({source:this,pointerPosition:T.pointerPosition,event:T.event,delta:T.delta,distance:T.distance}))).subscribe(y);return()=>{w.unsubscribe()}}),this._dragRef=g.createDrag(t,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:null==c?void 0:c.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),c&&this._assignDefaults(c),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=(0,m.Ig)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ke.q)(1),(0,Q.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const n=t.rootElementSelector,o=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=i._dragInstances.indexOf(this);t>-1&&i._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement,n=this.rootElementSelector?Ve(t,this.rootElementSelector):t;this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?Ve(this.element.nativeElement,t):(0,m.fI)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof o&&o?o:(0,m.su)(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe((0,ke.q)(1)).subscribe(()=>{var n,o;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let s=this.element.nativeElement.parentElement;for(;s;){if(null===(n=s.classList)||void 0===n?void 0:n.contains("cdk-drag")){t.withParent((null===(o=i._dragInstances.find(a=>a.element.nativeElement===s))||void 0===o?void 0:o._dragRef)||null);break}s=s.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:o,constrainPosition:s,previewClass:a,boundaryElement:c,draggingDisabled:l,rootElementSelector:g,previewContainer:p}=t;this.disabled=null!=l&&l,this.dragStartDelay=o||0,n&&(this.lockAxis=n),s&&(this.constrainPosition=s),a&&(this.previewClass=a),c&&(this.boundaryElement=c),g&&(this.rootElementSelector=g),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.changes.pipe((0,ee.O)(this._handles),(0,At.b)(t=>{const n=t.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),(0,Pt.w)(t=>(0,Ze.T)(...t.map(n=>n._stateChanges.pipe((0,ee.O)(n))))),(0,Q.R)(this._destroyed)).subscribe(t=>{const n=this._dragRef,o=t.element.nativeElement;t.disabled?n.disableHandle(o):n.enableHandle(o)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(Ye,12),e.Y36(_.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Qe,8),e.Y36(we.Is,8),e.Y36(ce),e.Y36(e.sBO),e.Y36(ge,10),e.Y36(de,12))},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(t,n,o){if(1&t&&(e.Suo(o,ze,5),e.Suo(o,$e,5),e.Suo(o,ge,5)),2&t){let s;e.iGM(s=e.CRH())&&(n._previewTemplate=s.first),e.iGM(s=e.CRH())&&(n._placeholderTemplate=s.first),e.iGM(s=e.CRH())&&(n._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,n){2&t&&e.ekj("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:de,useExisting:i}]),e.TTD]}),i._dragInstances=[],i})();function Ve(i,r){let t=i.parentElement;for(;t;){if(t.matches?t.matches(r):t.msMatchesSelector(r))return t;t=t.parentElement}return null}let Ht=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[ce],imports:[H.ZD]}),i})();var pe=u(8939),J=u(7746);const G=`${Z.N.api_url}`;let Qt=(()=>{class i{constructor(t){this.httpClient=t}createCard(t){return this.httpClient.post(`${G}cards`,t)}updateCard(t,n){return this.httpClient.put(`${G}cards/${t}`,n)}updateCards(t){return this.httpClient.put(`${G}cards`,t)}deleteCard(t){return this.httpClient.delete(`${G}cards/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(A.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ge=`${Z.N.api_url}`;let Yt=(()=>{class i{constructor(t){this.httpClient=t}add(t){return this.httpClient.post(`${Ge}tags`,t)}deleteTagById(t){return this.httpClient.delete(`${Ge}tags/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(A.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var $t=u(7063),je=u(626),zt=u(601);const B=`${Z.N.api_url}`;let L=(()=>{class i{constructor(t){this.httpClient=t}getMembersByBoardId(t){return this.httpClient.get(`${B}boards/${t}/members`)}addNewMember(t){return this.httpClient.post(`${B}members`,t)}updateMember(t,n){return this.httpClient.put(`${B}members/${t}`,n)}addNewMembers(t){return this.httpClient.post(`${B}members/all`,t)}deleteMember(t){return this.httpClient.delete(`${B}members/${t}`)}deleteMemberBoardWorkspace(t,n){return this.httpClient.delete(`${B}members/${t}/${n}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(A.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Vt=u(9130),R=u(6258);let Ke=(()=>{class i{constructor(t,n){this.http=t,this.authenticationService=n,this.activities=[],this.unreadNotice=0,this.currentUser=this.authenticationService.getCurrentUserValue()}getTime(){let t=new Date,n=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" "+n}findAllByBoardId(t){return this.http.get(`${Z.N.api_url}activityLog/${t}`)}createNotification(t){return this.http.post(`${Z.N.api_url}activityLog`,t)}updateNotification(t,n){return this.http.put(`${Z.N.api_url}activityLog/${t}`,n)}markAllAsRead(t){return this.http.put(`${Z.N.api_url}activityLog`,t)}saveNotification(t,n){this.createNotification(t).subscribe(()=>{this.unreadNotice++,this.findAllByBoardId(n).subscribe(o=>this.activities=o)})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(A.eN),e.LFG(x.i))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const D=`${Z.N.api_url}`;let ue=(()=>{class i{constructor(t){this.httpClient=t}findMemberById(t){return this.httpClient.get(`${D}member-workspace/${t}`)}updateWorkspaceMember(t,n){return this.httpClient.put(`${D}member-workspace/${t}`,n)}addWorkspaceMember(t,n,o){return this.httpClient.post(`${D}member-workspace/${n}/${o}`,t)}deleteWorkspaceMembers(t){return this.httpClient.post(`${D}member-workspace`,t)}findInWorkspace(t,n){return this.httpClient.get(`${D}member-workspace/search/${t}/${n}`)}findByWorkspace(t,n){return this.httpClient.get(`${D}member-workspace/${t}/workspace`,{params:n})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(A.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Gt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",70),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().currentBoard.title=o})("change",function(){return e.CHM(t),e.oxw().updateBoardTitle()}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.currentBoard.title)}}function jt(i,r){if(1&i&&(e.TgZ(0,"button",9),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.currentBoard.title," ")}}function Kt(i,r){1&i&&e._UZ(0,"img",71)}function Xt(i,r){if(1&i&&e._UZ(0,"img",72),2&i){const t=e.oxw();e.Q6J("src",t.currentBoard.owner.image,e.LSH)}}function en(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleUserSearchBar()}),e._UZ(1,"i",73),e._uU(2,"M\u1eddi "),e.qZA()}}function tn(i,r){if(1&i&&e._UZ(0,"img",78),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.image,e.LSH)}}function nn(i,r){1&i&&e._UZ(0,"img",79)}const on=function(i){return{"is-hidden":i}};function rn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span"),e.TgZ(1,"a",74),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().showDetail(s)})("mouseover",function(){const s=e.CHM(t).$implicit;return e.oxw().showUserPreview(s)})("mouseout",function(){return e.CHM(t),e.oxw().closeUserPreviews()}),e.YNc(2,tn,1,1,"img",75),e.YNc(3,nn,1,0,"img",76),e.TgZ(4,"span",77),e._uU(5," User preview text "),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit,n=r.index;e.xp6(1),e.Q6J("ngClass",e.VKq(4,on,n>=5)),e.xp6(1),e.Q6J("ngIf",t.image),e.xp6(1),e.Q6J("ngIf",!t.image),e.xp6(1),e.MGl("id","user-preview-text-",t.userId,"")}}function sn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span"),e.TgZ(1,"a"),e.TgZ(2,"img",80),e.NdJ("click",function(){return e.CHM(t),e.oxw().showAllMembers()}),e.qZA(),e.qZA(),e.qZA()}}function an(i,r){if(1&i&&(e.TgZ(0,"li"),e._UZ(1,"input",81),e.TgZ(2,"span",82),e._uU(3),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Q6J("ngClass",t.color),e.xp6(1),e.Oqu(t.name)}}function cn(i,r){if(1&i&&(e.TgZ(0,"li"),e._UZ(1,"input",83),e.TgZ(2,"span",84),e._uU(3),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.userId),e.xp6(2),e.hij("@",t.username,"")}}function dn(i,r){if(1&i&&(e.TgZ(0,"li",85),e._UZ(1,"input",86),e.TgZ(2,"span",84),e._uU(3),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(2),e.hij("@",t.name,"")}}function ln(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleDeleteBoardModal()}),e._uU(1,"X\xf3a b\u1ea3ng "),e.qZA()}}function gn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().redirectService.showModal(o.card)}),e._UZ(1,"img",91),e.TgZ(2,"div",92),e.TgZ(3,"span",93),e._uU(4),e.qZA(),e.TgZ(5,"span",94),e._uU(6),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("routerLink",t.url),e.xp6(1),e.Q6J("src",t.user.image,e.LSH),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.content)}}function pn(i,r){if(1&i&&(e.TgZ(0,"a",95),e._UZ(1,"img",91),e.TgZ(2,"div",92),e.TgZ(3,"span",93),e._uU(4),e.qZA(),e.TgZ(5,"span",94),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("routerLink",t.url),e.xp6(1),e.Q6J("src",t.user.image,e.LSH),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.content)}}function un(i,r){if(1&i&&(e.TgZ(0,"li",87),e.YNc(1,gn,7,4,"a",88),e.YNc(2,pn,7,4,"a",89),e.qZA()),2&i){const t=r.$implicit;e.ekj("mark-read",t.status),e.xp6(1),e.Q6J("ngIf",t.card),e.xp6(1),e.Q6J("ngIf",!t.card)}}function hn(i,r){1&i&&e._UZ(0,"img",71)}function mn(i,r){if(1&i&&e._UZ(0,"img",72),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.image,e.LSH)}}function _n(i,r){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.nickname,")")}}function fn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",101),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(3).addMember(s)}),e.YNc(1,hn,1,0,"img",10),e.YNc(2,mn,1,1,"img",11),e._uU(3),e.YNc(4,_n,2,1,"span",15),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",!t.image),e.xp6(1),e.Q6J("ngIf",t.image),e.xp6(1),e.hij(" @",t.username," "),e.xp6(1),e.Q6J("ngIf",t.nickname)}}function bn(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,fn,5,4,"a",100),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.userResult)}}function vn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",96),e.TgZ(1,"input",97),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().userSearch=o})("keyup",function(){return e.CHM(t),e.oxw().searchUsers()}),e.qZA(),e.YNc(2,bn,2,1,"div",98),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.userSearch),e.xp6(1),e.Q6J("ngIf",t.userResult.length)}}function Cn(i,r){1&i&&e._UZ(0,"img",102)}function xn(i,r){if(1&i&&e._UZ(0,"img",103),2&i){const t=e.oxw();e.Q6J("src",t.selectedMember.image,e.LSH)}}function Zn(i,r){if(1&i&&(e.TgZ(0,"p",104),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedMember.nickname)}}function kn(i,r){if(1&i&&(e.TgZ(0,"p",104),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedMember.username)}}function wn(i,r){1&i&&(e.TgZ(0,"div",105),e._uU(1,"Ng\u01b0\u1eddi d\xf9ng n\xe0y c\xf3 quy\u1ec1n ch\u1ec9nh s\u1eeda b\u1ea3n n\xe0y "),e.qZA())}function Tn(i,r){1&i&&(e.TgZ(0,"div",106),e._uU(1,"Ng\u01b0\u1eddi d\xf9ng n\xe0y kh\xf4ng c\xf3 quy\u1ec1n ch\u1ec9nh s\u1eeda b\u1ea3n n\xe0y "),e.qZA())}function Mn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw().removeSelectedMember()}),e._uU(1," X\xf3a th\xe0nh vi\xean ! "),e.qZA()}}function An(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).makeSelectedMemberObserver()}),e._uU(1," C\u1ea5p quy\u1ec1n th\xe0nh vi\xean "),e.qZA()}}function Pn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",110),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).makeSelectedMemberEditor()}),e._uU(1," C\u1ea5p quy\u1ec1n ch\u1ec9nh s\u1eeda "),e.qZA()}}function En(i,r){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,An,2,0,"button",107),e.YNc(2,Pn,2,0,"button",108),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedMember.canEdit),e.xp6(1),e.Q6J("ngIf",!t.selectedMember.canEdit)}}let yn=(()=>{class i{constructor(t,n,o,s,a,c,l,g,p){this.authenticateService=t,this.userService=n,this.router=o,this.boardService=s,this.activityLogService=a,this.redirectService=c,this.memberService=l,this.notificationService=g,this.memberWorkspaceService=p,this.currentBoard={columns:[],owner:{},title:"",tags:[]},this.canEdit=!1,this.members=[],this.tags=[],this.isInWorkspace=!1,this.updateMemberEvent=new e.vpe,this.filterEvent=new e.vpe,this.selectedMember={boardId:-1,canEdit:!1,id:-1,userId:-1,username:""},this.currentUser=this.authenticateService.getCurrentUserValue(),this.searchBarIsShown=!1,this.userSearch="",this.userResult=[],this.tagFilter=[],this.memberFilter=[],this.labelFilter=[]}ngOnInit(){}addMember(t){let n={board:this.currentBoard,canEdit:!1,user:t};this.memberService.addNewMember(n).subscribe(()=>{this.resetSearch(),this.getMembers()}),this.createNoticeInBoard(`th\xeam ${n.user.username} v\xe0o b\u1ea3ng`),document.getElementById("addMember").classList.add("is-active")}resetSearch(){this.searchBarIsShown=!1,this.userSearch="",this.userResult=[]}getMembers(){this.memberService.getMembersByBoardId(this.currentBoard.id).subscribe(t=>{this.members=t,this.updateMemberEvent.emit(this.members)})}createNoticeInBoard(t){let n={title:"B\u1ea3ng : "+this.currentBoard.title,content:this.currentUser.username+" "+t+" trong "+this.currentBoard.title+" V\xe0o : "+this.notificationService.getTime(),url:"/trello/board/"+this.currentBoard.id,status:!1,board:this.currentBoard,user:this.currentUser};null!=this.currentBoard.id&&this.activityLogService.saveNotification(n,this.currentBoard.id)}toggleUserSearchBar(){this.searchBarIsShown=!this.searchBarIsShown}searchUsers(){var t;""!=this.userSearch?this.isInWorkspace?this.userService.findByKeywordAndWorkspace(this.userSearch,null===(t=this.workspace)||void 0===t?void 0:t.id).subscribe(n=>{console.log(n),this.userResult=n,this.cleanSearchResults()}):this.userService.findUsersByKeyword(this.userSearch).subscribe(n=>{this.userResult=n,this.cleanSearchResults()}):this.userResult=[]}cleanSearchResults(){for(let t=0;t<this.userResult.length;t++){let n=this.userResult[t],o=!1;if(n.id==this.currentBoard.owner.id)o=!0;else for(let s of this.members)if(n.id==s.userId){o=!0;break}o&&(this.userResult.splice(t,1),t--)}}updateBoardTitle(){null!=this.currentBoard.id&&this.boardService.updateBoard(this.currentBoard.id,this.currentBoard).subscribe(t=>{this.currentBoard=t})}showDetail(t){this.selectedMember=t,document.getElementById("user-detail-modal").classList.add("is-active")}showUserPreview(t){let o=document.getElementById("user-preview-text-"+t.userId);o.innerHTML="@"+t.username,o.classList.remove("is-hidden")}closeUserPreviews(){let t=document.getElementsByClassName("user-preview-text");for(let n of t)n.classList.add("is-hidden")}showAllMembers(){let t=document.getElementsByClassName("user-preview");for(let n of t)n.classList.remove("is-hidden")}toggleDeleteBoardModal(){let t=document.getElementById("delete-board-modal");t.classList.contains("is-active")?t.classList.remove("is-active"):t.classList.add("is-active")}toggleMenu(){let t=document.getElementById("menu-btn-dropdown");t.classList.contains("is-hidden")?t.classList.remove("is-hidden"):t.classList.add("is-hidden")}closeModal(){document.getElementById("user-detail-modal").classList.remove("is-active")}removeSelectedMember(){let t=this.selectedMember.username;this.memberService.deleteMember(this.selectedMember.id).subscribe(()=>{this.createNoticeInBoard(`\u0111\xe3 x\xf3a ${t} kh\u1ecfi b\u1ea3ng`),this.getMembers(),this.closeModal()})}makeSelectedMemberObserver(){this.selectedMember.canEdit=!1,this.updateSelectedMember(),this.createNoticeInBoard("\u0111\xe3 t\u01b0\u1edbc quy\u1ec1n "+this.selectedMember.username)}makeSelectedMemberEditor(){this.selectedMember.canEdit=!0,this.updateSelectedMember(),this.createNoticeInBoard("cho ph\xe9p "+this.selectedMember.username+"ch\u1ec9nh s\u1eeda")}updateSelectedMember(){this.memberService.updateMember(this.selectedMember.id,{board:this.currentBoard,canEdit:this.selectedMember.canEdit,id:this.selectedMember.id,user:{id:this.selectedMember.userId}}).subscribe(()=>this.getMembers())}removeThisBoard(){null!=this.currentBoard.id&&this.boardService.deleteBoard(this.currentBoard.id).subscribe(()=>this.router.navigateByUrl("/trello")),this.createNoticeInBoard("x\xf3a b\u1ea3ng")}filterBoard(){this.updateFilterDto(),this.filterEvent.emit([this.tagFilter,this.memberFilter,this.labelFilter])}updateFilterDto(){this.tagFilter=[],this.memberFilter=[],this.labelFilter=[];let t=document.getElementsByClassName("tag-filter-option");for(let s of t)s.checked&&this.tagFilter.push(s.value);let n=document.getElementsByClassName("member-filter-option");for(let s of n)s.checked&&this.memberFilter.push(s.value);let o=document.getElementsByClassName("label-filter-option");for(let s of o)s.checked&&this.labelFilter.push(s.value)}clearFilterBoard(){this.filterEvent.emit([[],[]]),this.clearCheckedOptions()}clearCheckedOptions(){let t=document.getElementsByClassName("filter-option");for(let n of t)n.checked&&(n.checked=!1)}toggleElement(t){let n=document.getElementById(t);n.classList.contains("is-hidden")?n.classList.remove("is-hidden"):n.classList.add("is-hidden")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.i),e.Y36(J.K),e.Y36(b.F0),e.Y36(M.$),e.Y36(Ke),e.Y36(je.V),e.Y36(L),e.Y36(R.g),e.Y36(ue))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-navbar-board-header"]],inputs:{workspace:"workspace",currentBoard:"currentBoard",canEdit:"canEdit",members:"members",tags:"tags",isInWorkspace:"isInWorkspace",loggedInUser:"loggedInUser"},outputs:{updateMemberEvent:"updateMemberEvent",filterEvent:"filterEvent"},decls:114,vars:23,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],[1,"navbar-brand"],["role","button","aria-label","menu","aria-expanded","false","data-target","navbarBasicExample",1,"navbar-burger"],["aria-hidden","true"],["id","navbarBasicExample",1,"navbar-menu"],[1,"navbar-item"],[1,"buttons"],["class","button is-primary",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","button is-primary",4,"ngIf"],[1,"button","is-primary"],["src","https://i.pinimg.com/originals/57/fb/31/57fb3190d0cc1726d782c4e25e8561e9.png","class","img-circle is-48x48",4,"ngIf"],["class","img-circle is-48x48",3,"src",4,"ngIf"],[1,"far","fa-star"],["class","button is-primary",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"navbar-end"],[2,"position","relative"],["id","filter-btn-dropdown",1,"columns","has-background-white","is-hidden"],[1,"column","is-one-fifth",2,"width","22%"],[1,"button","members-button",3,"click"],[1,"column",2,"width","max-content"],[1,"checkbox"],[2,"padding-left","10px"],["style","width: 100px",4,"ngFor","ngForOf"],[1,"button","is-primary",3,"click"],[1,"fas","fa-filter"],[1,"icon-item",2,"margin-right","10px"],[1,"dropdown","is-hoverable"],[1,"dropdown-trigger"],[1,"fas","fa-ellipsis-h"],["role","menu",1,"dropdown-menu",2,"width","100px"],["class","button is-danger is-light",3,"click",4,"ngIf"],[1,"icon-item"],[1,"dropdown","is-hoverable","is-right"],[1,"fas","fa-list"],["id","dropdown-menu5","role","menu",1,"dropdown-menu"],[1,"dropdown-content",2,"padding","0"],[1,"header__navbar-item","header__navbar-item--has-notify"],[1,"header__notify"],[1,"header__notify-header"],[1,"header__notify-list"],["class","header__notify-item",3,"mark-read",4,"ngFor","ngForOf"],[1,"search-bar"],["class","search-bar-input",4,"ngIf"],["id","user-detail-modal",1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"card"],[1,"card-content"],[1,"media"],[1,"media-left"],[1,"image","is-48x48"],["src","assets/img/nicki-eliza.jpg","class","img-circle",4,"ngIf"],["alt","Placeholder image","class","is-rounded",3,"src",4,"ngIf"],[1,"media-content"],["class","title is-4",4,"ngIf"],[1,"subtitle","is-6"],[1,"content"],["class","notification is-success is-light",4,"ngIf"],["class","notification is-info is-light",4,"ngIf"],[1,"modal-card-foot"],[1,"button","is-light",3,"click"],["id","delete-board-modal",1,"modal"],[1,"notification","is-danger","is-light"],[1,"button","is-danger","is-light",3,"click"],[1,"button","is-primary",3,"ngModel","ngModelChange","change"],["src","https://i.pinimg.com/originals/57/fb/31/57fb3190d0cc1726d782c4e25e8561e9.png",1,"img-circle","is-48x48"],[1,"img-circle","is-48x48",3,"src"],[1,"fas","fa-user-plus"],[1,"user-preview",2,"position","relative",3,"ngClass","click","mouseover","mouseout"],["class","img-circle",3,"src",4,"ngIf"],["class","img-circle",4,"ngIf"],[1,"user-preview-text","is-hidden","tag","is-info","is-light",2,"position","absolute","top","20px","left","5px","float","top",3,"id"],[1,"img-circle",3,"src"],[1,"img-circle"],["src","./assets/img/three-dots.png",1,"img-circle",2,"width","15px","height","15px","margin-bottom","20px",3,"click"],["type","checkbox",1,"tag-filter-option","filter-option",3,"value"],[1,"tag","is-light",3,"ngClass"],["type","checkbox",1,"member-filter-option","filter-option",3,"value"],[1,"tag","is-light"],[2,"width","100px"],["type","checkbox",1,"label-filter-option","filter-option",3,"value"],[1,"header__notify-item"],["class","header__notify-link",3,"routerLink","click",4,"ngIf"],["class","header__notify-link",3,"routerLink",4,"ngIf"],[1,"header__notify-link",3,"routerLink","click"],["alt","",1,"header__notify-img",3,"src"],[1,"header__notify-info"],[1,"header__notify-name"],[1,"header__notify-description"],[1,"header__notify-link",3,"routerLink"],[1,"search-bar-input"],["type","text","placeholder","T\xecm ki\u1ebfm th\xe0nh vi\xean",1,"input",3,"ngModel","ngModelChange","keyup"],["class","dropdown-content",4,"ngIf"],[1,"dropdown-content"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["src","assets/img/nicki-eliza.jpg",1,"img-circle"],["alt","Placeholder image",1,"is-rounded",3,"src"],[1,"title","is-4"],[1,"notification","is-success","is-light"],[1,"notification","is-info","is-light"],["class","button is-secondary is-light",3,"click",4,"ngIf"],["class","button is-success is-light",3,"click",4,"ngIf"],[1,"button","is-secondary","is-light",3,"click"],[1,"button","is-success","is-light",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e._UZ(3,"span",3),e._UZ(4,"span",3),e._UZ(5,"span",3),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.YNc(9,Gt,1,1,"input",7),e.YNc(10,jt,2,1,"button",8),e.TgZ(11,"button",9),e.YNc(12,Kt,1,0,"img",10),e.YNc(13,Xt,1,1,"img",11),e._uU(14),e.qZA(),e.TgZ(15,"button",9),e._UZ(16,"i",12),e.qZA(),e.YNc(17,en,3,0,"button",13),e.TgZ(18,"div"),e.YNc(19,rn,6,6,"span",14),e.YNc(20,sn,3,0,"span",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",16),e.TgZ(22,"div",5),e.TgZ(23,"div",6),e.TgZ(24,"div",17),e.TgZ(25,"div",18),e.TgZ(26,"div",19),e.TgZ(27,"button",20),e.NdJ("click",function(){return n.filterBoard()}),e._uU(28,"T\xecm"),e.qZA(),e.TgZ(29,"button",20),e.NdJ("click",function(){return n.clearFilterBoard()}),e._uU(30,"X\xf3a"),e.qZA(),e.qZA(),e.TgZ(31,"div",21),e.TgZ(32,"ul",22),e.YNc(33,an,4,3,"li",14),e.qZA(),e.qZA(),e.TgZ(34,"div",23),e._uU(35," Th\xe0nh vi\xean "),e.TgZ(36,"ul",22),e.YNc(37,cn,4,2,"li",14),e.qZA(),e.qZA(),e.TgZ(38,"div",23),e._uU(39," Nh\xe3n "),e.TgZ(40,"ul",22),e.YNc(41,dn,4,2,"li",24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"button",25),e.NdJ("click",function(){return n.toggleElement("filter-btn-dropdown")}),e._UZ(43,"i",26),e._uU(44," T\xecm Ki\u1ebfm "),e.qZA(),e.TgZ(45,"div",27),e.TgZ(46,"div",28),e.TgZ(47,"div",29),e.TgZ(48,"button",9),e._UZ(49,"i",30),e._uU(50," Menu "),e.qZA(),e.qZA(),e.TgZ(51,"div",31),e.TgZ(52,"div"),e.YNc(53,ln,2,0,"button",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",33),e.TgZ(55,"div",34),e.TgZ(56,"div",29),e.TgZ(57,"button",9),e._UZ(58,"i",35),e._uU(59," Th\xf4ng b\xe1o "),e.qZA(),e.qZA(),e.TgZ(60,"div",36),e.TgZ(61,"div",37),e.TgZ(62,"div",38),e.TgZ(63,"div",39),e.TgZ(64,"header",40),e.TgZ(65,"h3"),e._uU(66,"Th\xf4ng b\xe1o"),e.qZA(),e.qZA(),e.TgZ(67,"ul",41),e.YNc(68,un,3,4,"li",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",43),e.YNc(70,vn,3,2,"div",44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"div",45),e._UZ(72,"div",46),e.TgZ(73,"div",47),e.TgZ(74,"header",48),e.TgZ(75,"p",49),e._uU(76,"Th\xf4ng tin th\xe0nh vi\xean"),e.qZA(),e.TgZ(77,"button",50),e.NdJ("click",function(){return n.closeModal()}),e.qZA(),e.qZA(),e.TgZ(78,"section",51),e.TgZ(79,"div",52),e.TgZ(80,"div",53),e.TgZ(81,"div",54),e.TgZ(82,"div",55),e.TgZ(83,"figure",56),e.YNc(84,Cn,1,0,"img",57),e.YNc(85,xn,1,1,"img",58),e.qZA(),e.qZA(),e.TgZ(86,"div",59),e.YNc(87,Zn,2,1,"p",60),e.YNc(88,kn,2,1,"p",60),e.TgZ(89,"p",61),e._uU(90),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",62),e.YNc(92,wn,2,0,"div",63),e.YNc(93,Tn,2,0,"div",64),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(94,"footer",65),e.YNc(95,Mn,2,0,"button",32),e.YNc(96,En,3,2,"span",15),e.TgZ(97,"button",66),e.NdJ("click",function(){return n.closeModal()}),e._uU(98,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(99,"div",67),e._UZ(100,"div",46),e.TgZ(101,"div",47),e.TgZ(102,"header",48),e.TgZ(103,"p",49),e._uU(104,"Th\xf4ng b\xe1o"),e.qZA(),e.TgZ(105,"button",50),e.NdJ("click",function(){return n.toggleDeleteBoardModal()}),e.qZA(),e.qZA(),e.TgZ(106,"section",51),e.TgZ(107,"div",68),e._uU(108," B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n x\xf3a ? "),e.qZA(),e.qZA(),e.TgZ(109,"footer",65),e.TgZ(110,"button",69),e.NdJ("click",function(){return n.removeThisBoard()}),e._uU(111,"X\xf3a b\u1ea3ng"),e.qZA(),e.TgZ(112,"button",66),e.NdJ("click",function(){return n.toggleDeleteBoardModal()}),e._uU(113,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("ngIf",n.canEdit),e.xp6(1),e.Q6J("ngIf",!n.canEdit),e.xp6(2),e.Q6J("ngIf",!n.currentBoard.owner.image),e.xp6(1),e.Q6J("ngIf",n.currentBoard.owner.image),e.xp6(1),e.hij(" ",n.currentBoard.owner.username," "),e.xp6(3),e.Q6J("ngIf",n.canEdit&&n.isInWorkspace),e.xp6(2),e.Q6J("ngForOf",n.members),e.xp6(1),e.Q6J("ngIf",n.members.length>5),e.xp6(13),e.Q6J("ngForOf",n.tags),e.xp6(4),e.Q6J("ngForOf",n.members),e.xp6(4),e.Q6J("ngForOf",n.currentBoard.tags),e.xp6(12),e.Q6J("ngIf",n.canEdit),e.xp6(15),e.Q6J("ngForOf",n.activityLogService.activities),e.xp6(2),e.Q6J("ngIf",n.searchBarIsShown),e.xp6(14),e.Q6J("ngIf",!n.selectedMember.image),e.xp6(1),e.Q6J("ngIf",n.selectedMember.image),e.xp6(2),e.Q6J("ngIf",n.selectedMember.nickname),e.xp6(1),e.Q6J("ngIf",!n.selectedMember.nickname),e.xp6(2),e.hij("@",n.selectedMember.username,""),e.xp6(2),e.Q6J("ngIf",n.selectedMember.canEdit),e.xp6(1),e.Q6J("ngIf",!n.selectedMember.canEdit),e.xp6(2),e.Q6J("ngIf",n.canEdit&&n.selectedMember.userId!=n.authenticateService.getCurrentUserValue().id),e.xp6(1),e.Q6J("ngIf",n.canEdit&&n.selectedMember.userId!=n.authenticateService.getCurrentUserValue().id))},directives:[_.O5,_.sg,d.Fj,d.JJ,d.On,_.mk,b.yS],styles:['.icon-item[_ngcontent-%COMP%]{list-style:none;color:#000000a6}.img-circle[_ngcontent-%COMP%]{margin-top:4px;height:33px;width:33px;object-fit:fill;-webkit-clip-path:circle(50%);clip-path:circle(50%)}.search-bar[_ngcontent-%COMP%]{position:relative;right:64.5%}.search-bar-input[_ngcontent-%COMP%]{position:absolute;top:25px;left:-210px}.icon-link[_ngcontent-%COMP%]{display:inline-flex;font-size:25px;text-decoration:none;color:var(--color-icon);width:55px;height:40px;transition:.5s linear;position:relative;z-index:1;margin:auto}.icon-link[_ngcontent-%COMP%]:hover{color:#fff}.icon-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto}.fa-plus[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bell[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bars[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-home[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-board[_ngcontent-%COMP%]{font-size:20px;margin:11px 5px 5px}.nav-item-start[_ngcontent-%COMP%]{font-family:"Courgette",cursive;font-size:1.7rem;font-weight:700;color:#000000a6}.nav[_ngcontent-%COMP%]{background:rgba(255,255,255,.5);display:flex;margin:inherit}.nav-brand-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;margin:auto}.nav-brand-end[_ngcontent-%COMP%]{margin-left:1100px;display:flex;justify-content:flex-end;height:40px;text-decoration:none;align-items:center;background-color:#ffffff4d;box-shadow:none;color:#fff;font-weight:bold;line-height:32px;padding:0;white-space:nowrap}.nav-content[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;line-height:1}.nav-item[_ngcontent-%COMP%]{display:flex;width:32px;justify-content:center;align-items:center;margin:0;height:40px}h1.app-name[_ngcontent-%COMP%]{padding:4px}.app-name[_ngcontent-%COMP%]{font-size:20px;font-family:"Lato",sans-serif;font-weight:bold}.has-gradient-text[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffffff,#efd0d0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.dropdown-item[_ngcontent-%COMP%]{display:flex}.user[_ngcontent-%COMP%]{margin-left:5px}.nickname[_ngcontent-%COMP%]{color:#6d6d6d;font-size:10px}.user-img[_ngcontent-%COMP%]{margin-top:6px;height:35px;width:35px}.navbar[_ngcontent-%COMP%]{background:rgba(255,255,255,0);position:inherit}.fa-ellipsis-h[_ngcontent-%COMP%]{margin-right:5px}.fa-user-plus[_ngcontent-%COMP%]{margin-right:5px}.has-background-white[_ngcontent-%COMP%]{position:absolute;top:40px;border-radius:5px;z-index:1}.button.is-primary[_ngcontent-%COMP%]{background:rgba(255,255,255,.5);color:#000000a6}.small-button[_ngcontent-%COMP%]{height:100px;width:45px}.header__notify[_ngcontent-%COMP%]{position:absolute;top:118%;right:0;width:404px;border:1px solid rgba(0,0,0,.1);border-radius:2px;background-color:#fff;cursor:default;transform-origin:calc(100% - 30px) top;animation:headerNotifyGrowth ease-in .2s;will-change:opacity,transform;z-index:1}.header__notify[_ngcontent-%COMP%]:before{content:"";border-width:20px 27px;border-style:solid;border-color:transparent transparent #b3d9ff transparent;position:absolute;right:4px;top:-29px}.header__notify[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:90px;height:20px;right:0;top:-16px}@keyframes headerNotifyGrowth{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}.mark-read[_ngcontent-%COMP%]{background-color:#e3ebf0}.header__notify-header[_ngcontent-%COMP%]{height:40px;background-color:#6d7fcc;display:flex;align-items:center}.header__notify-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0 0 0 12px;font-weight:400;font-size:1.4rem;line-height:40px;cursor:text}.header__notify-list[_ngcontent-%COMP%]{padding-left:0;list-style:none;max-height:400px;flex-grow:1;overflow-y:auto;background-color:#00abff00}[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 2px rgba(0,0,0,.1)}.header__notify-item[_ngcontent-%COMP%]{display:flex}.header__notify-item[_ngcontent-%COMP%]:hover{background-color:#b3c6ff}.header__notify-item--viewed[_ngcontent-%COMP%]{background-color:#ee4b2b17}.header__notify-link[_ngcontent-%COMP%]{display:flex;padding:12px;text-decoration:none;flex-direction:row;width:100%}.header__notify-img[_ngcontent-%COMP%]{width:48px;object-fit:contain}.header__notify-info[_ngcontent-%COMP%]{margin-left:12px}.header__notify-name[_ngcontent-%COMP%]{display:block;font-size:18px;color:#000;font-weight:400}.header__notify-description[_ngcontent-%COMP%]{display:block;font-size:13px;line-height:1.8rem;color:#756f6e}.header__notify-footer[_ngcontent-%COMP%]{display:flex;background-color:#b3c6ff}.header__notify-footer-btn[_ngcontent-%COMP%]{text-decoration:none;color:#fff;padding:2px 32px;margin:auto;font-size:16px;font-weight:400}.header__cart-notice[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;padding:1px 4px;background-color:#b3d9ff;color:#fff;font-size:12px;line-height:12px;border-radius:10px;border:1px solid #b3d9ff}']}),i})();function On(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",94),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().showDeleteColumnModal(o.id)}),e._UZ(1,"i",95),e.qZA()}}function qn(i,r){if(1&i&&(e.TgZ(0,"span",100),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngClass",t.color),e.xp6(1),e.Oqu(t.name)}}function Bn(i,r){if(1&i&&(e.TgZ(0,"span",101),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij("@",t.username,"")}}function Dn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",96),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw().$implicit;return e.oxw().showEditCardModal(s,a)}),e.TgZ(1,"ul"),e.TgZ(2,"li"),e.YNc(3,qn,2,2,"span",97),e.qZA(),e.TgZ(4,"li"),e.TgZ(5,"span",98),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"li"),e.YNc(8,Bn,2,1,"span",99),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.Q6J("cdkDragData",t),e.xp6(3),e.Q6J("ngForOf",t.tags),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Q6J("ngForOf",t.users)}}function In(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",102),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().showCreateCardModal(o)}),e._uU(2," + Th\xeam th\u1ebb "),e.qZA(),e.qZA()}}function Sn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",88),e.TgZ(1,"div",89),e.TgZ(2,"div"),e.TgZ(3,"input",90),e.NdJ("focusout",function(){const s=e.CHM(t).$implicit;return e.oxw().onFocusOut(s)})("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().currentBoard.columns[a].title=o}),e.qZA(),e.qZA(),e.YNc(4,On,2,0,"div",91),e.qZA(),e.TgZ(5,"div",92),e.NdJ("cdkDropListDropped",function(o){const a=e.CHM(t).$implicit;return e.oxw().dropCard(o,a)}),e.YNc(6,Dn,9,4,"div",93),e.YNc(7,In,3,0,"div",40),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit,n=r.index,o=e.oxw();e.xp6(3),e.s9C("value",t.title),e.Q6J("ngModel",o.currentBoard.columns[n].title),e.xp6(1),e.Q6J("ngIf",o.canEdit),e.xp6(1),e.s9C("id",t.id),e.Q6J("cdkDropListData",t.cards),e.xp6(1),e.Q6J("ngForOf",t.cards),e.xp6(1),e.Q6J("ngIf",o.canEdit)}}function Un(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",103),e.TgZ(1,"div",104),e.TgZ(2,"div",105),e.TgZ(3,"button",102),e.NdJ("click",function(){return e.CHM(t),e.oxw().showCreateColumnModal()}),e._uU(4," + Th\xeam danh s\xe1ch "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function Nn(i,r){1&i&&(e.TgZ(0,"span",106),e._uU(1,"C\u1ea7n nh\u1eadp ti\xeau \u0111\u1ec1 c\u1ee7a danh s\xe1ch"),e.qZA())}function Fn(i,r){1&i&&(e.TgZ(0,"span",107),e._uU(1," Tr\u01b0\u1eddng b\u1eaft bu\u1ed9c"),e.qZA())}function Jn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",108),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().removeTagFromCard(s)}),e._uU(1),e.qZA()}if(2&i){const t=r.$implicit;e.Q6J("ngClass",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function Ln(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li",109),e.NdJ("mouseover",function(){const s=e.CHM(t).$implicit;return e.oxw().showDeleteTags(s.id)})("mouseout",function(){const s=e.CHM(t).$implicit;return e.oxw().hideDeleteTags(s.id)}),e.TgZ(1,"span",108),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().addTagToPending(s)}),e._uU(2),e.qZA(),e.TgZ(3,"a",110),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteTag(s.id)}),e.TgZ(4,"span",111),e._UZ(5,"i",95),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.MGl("id","tagsDeleteButton-",t.id,"")}}function Rn(i,r){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span",112),e._uU(2,"Nh\u1eadp t\xean nh\xe3n"),e.qZA(),e.qZA())}function Wn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",113),e.TgZ(1,"span",114),e.TgZ(2,"a",115),e._uU(3),e.qZA(),e.TgZ(4,"a",110),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().deletePendingAttachment(s)}),e.TgZ(5,"span",116),e._UZ(6,"i",95),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(2),e.s9C("href",t.source,e.LSH),e.xp6(1),e.Oqu(t.name)}}function Hn(i,r){1&i&&(e.TgZ(0,"span",107),e._uU(1," Tr\u01b0\u1eddng b\u1eaft bu\u1ed9c"),e.qZA())}function Qn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",108),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().removeTagFromCard(s)}),e._uU(1),e.qZA()}if(2&i){const t=r.$implicit;e.Q6J("ngClass",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function Yn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",117),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().removeUserFromCard(s)}),e._uU(1),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(1),e.hij(" @",t.username," ")}}function $n(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",121),e.TgZ(1,"button",122),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().showDeleteCommentModal(o.id)}),e.qZA(),e.qZA()}}function zn(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",118),e.TgZ(2,"article",119),e.TgZ(3,"figure",68),e._UZ(4,"img",69),e.qZA(),e.TgZ(5,"div",70),e.TgZ(6,"div",51),e.TgZ(7,"p"),e.TgZ(8,"strong"),e._uU(9),e.qZA(),e._UZ(10,"br"),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,$n,2,0,"div",120),e.qZA(),e.qZA(),e.qZA()),2&i){const t=r.$implicit,n=e.oxw();e.xp6(4),e.s9C("src",null==t.user?null:t.user.image,e.LSH),e.xp6(5),e.Oqu(null==t.user?null:t.user.username),e.xp6(2),e.hij(" ",t.content," "),e.xp6(1),e.Q6J("ngIf",n.canEdit)}}function Vn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",123),e.TgZ(1,"span",114),e.TgZ(2,"a",115),e._uU(3),e.qZA(),e.TgZ(4,"a",110),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().showDeleteAttachment(s.id)}),e.TgZ(5,"span",116),e._UZ(6,"i",95),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(2),e.s9C("href",t.source,e.LSH),e.xp6(1),e.Oqu(t.name)}}function Gn(i,r){if(1&i&&(e.TgZ(0,"span",126),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.nickname,")")}}function jn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"span",130),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).addUserToCard(s)}),e.TgZ(2,"span",126),e._uU(3),e.qZA(),e.YNc(4,Gn,2,1,"span",131),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(3),e.hij("@",t.username,""),e.xp6(1),e.Q6J("ngIf",t.nickname)}}function Kn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li",109),e.NdJ("mouseover",function(){const s=e.CHM(t).$implicit;return e.oxw(2).showDeleteTag(s.id)})("mouseout",function(){const s=e.CHM(t).$implicit;return e.oxw(2).hideDeleteTag(s.id)}),e.TgZ(1,"span",108),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).addTagToCard(s)}),e._uU(2),e.qZA(),e.TgZ(3,"a",110),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteTag(s.id)}),e.TgZ(4,"span",111),e._UZ(5,"i",95),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.MGl("id","tagDeleteButton-",t.id,"")}}function Xn(i,r){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span",112),e._uU(2,"Nh\u1eadp t\xean nh\xe3n"),e.qZA(),e.qZA())}function ei(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"div",124),e.TgZ(2,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleMemberForm()}),e._uU(3,"Th\xe0nh vi\xean"),e.qZA(),e.TgZ(4,"div",125),e.TgZ(5,"span",126),e._uU(6,"Th\xeam th\xe0nh vi\xean:"),e.qZA(),e.TgZ(7,"ul"),e.YNc(8,jn,5,2,"li",78),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div"),e.TgZ(10,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().switchEditTagsForm()}),e._uU(11,"Nh\xe3n"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"div",127),e.TgZ(14,"label",15),e._uU(15,"C\xe1c nh\xe3n:"),e.qZA(),e.TgZ(16,"ul"),e.YNc(17,Kn,6,3,"li",38),e.qZA(),e.TgZ(18,"form",27),e.TgZ(19,"label",15),e._uU(20,"T\u1ea1o nh\xe3n m\u1edbi:"),e.qZA(),e._UZ(21,"input",39),e.YNc(22,Xn,3,0,"div",40),e.TgZ(23,"label",41),e._uU(24,"M\xe0u c\u1ee7a nh\xe3n"),e.qZA(),e.TgZ(25,"div",42),e.TgZ(26,"select",43),e.TgZ(27,"option",44),e._uU(28," Xanh l\xe1 nh\u1ea1t "),e.qZA(),e.TgZ(29,"option",45),e._uU(30," Xanh l\xe1 \u0111\u1eadm "),e.qZA(),e.TgZ(31,"option",46),e._uU(32," Xanh d\u01b0\u01a1ng \u0111\u1eadm "),e.qZA(),e.TgZ(33,"option",47),e._uU(34,"Xanh d\u01b0\u01a1ng nh\u1ea1t "),e.qZA(),e.TgZ(35,"option",48),e._uU(36,"V\xe0ng "),e.qZA(),e.TgZ(37,"option",49),e._uU(38,"\u0110\u1ecf "),e.qZA(),e.qZA(),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"button",50),e.NdJ("click",function(){return e.CHM(t),e.oxw().addNewTag()}),e._uU(41,"Th\xeam nh\xe3n m\u1edbi"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",51),e.TgZ(43,"form",52,53),e.NdJ("ngSubmit",function(o){return e.CHM(t),e.oxw().showPreview(o)}),e.TgZ(45,"div",54),e.TgZ(46,"label",128),e._UZ(47,"i",56),e._uU(48," Th\xeam t\u1ec7p \u0111\xednh k\xe8m "),e.qZA(),e.TgZ(49,"input",129,58),e.NdJ("change",function(o){return e.CHM(t),e.oxw().showPreview(o)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",t.members),e.xp6(9),e.Q6J("ngForOf",t.currentBoard.tags),e.xp6(1),e.Q6J("formGroup",t.newTagForm),e.xp6(4),e.Q6J("ngIf",t.newTagForm.invalid&&t.newTagForm.touched),e.xp6(18),e.Q6J("disabled",t.newTagForm.invalid)}}let ti=(()=>{class i{constructor(t,n,o,s,a,c,l,g,p,h,C,y,w,T,v,me,j){this.activatedRoute=t,this.boardService=n,this.authenticationService=o,this.router=s,this.toastService=a,this.userService=c,this.columnService=l,this.cardService=g,this.tagService=p,this.storage=h,this.redirectService=C,this.attachmentService=y,this.memberService=w,this.workspaceService=T,this.commentCardService=v,this.notificationService=me,this.activityLogService=j,this.commentCard={},this.currentUser={},this.fileSrc=null,this.selectedFile=null,this.isSubmitted=!1,this.members=[],this.membersUser=[],this.currentBoardId=-1,this.commentId=-1,this.tags=[],this.commentForm=new d.cw({content:new d.NI("",d.kI.required),cardId:new d.NI}),this.currentBoard={id:-1,owner:{},title:"",columns:[]},this.loggedInUser={},this.user={},this.canEdit=!1,this.columnForm=new d.cw({title:new d.NI("",d.kI.required)}),this.createCardForm=new d.cw({title:new d.NI("",d.kI.required),content:new d.NI}),this.isAdded=!1,this.selectedCard={id:-1,title:"",content:"",position:-1},this.selectedCardAttachment=[],this.selectedColumn={cards:[],id:-1,position:-1,title:""},this.selectedColumnID=-1,this.selectedIndex=-1,this.cardsDto=[],this.columnsDto=[],this.previousColumn={cards:[],id:-1,position:-1,title:""},this.newTagForm=new d.cw({color:new d.NI("",d.kI.required),name:new d.NI}),this.newAttachment={id:-1,source:""},this.pendingAttachment=[],this.pendingTag=[],this.selectedAttachmentId=-1,this.memberInWorkspace=[],this.isBoardInWorkspace=!1,this.isTagsIsShown=!1}ngOnInit(){this.getCurrentBoardByURL()}dropCard(t,n){!this.canEdit||(t.previousContainer===t.container?se(t.container.data,t.previousIndex,t.currentIndex):function(i,r,t,n){const o=F(t,i.length-1),s=F(n,r.length);i.length&&r.splice(s,0,i.splice(o,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.setPreviousColumn(t),this.saveChange(),this.previousColumn.id!=n.id&&(this.createNoticeInBoard(`di chuy\u1ec3n th\u1ebb ${t.container.data[0].title} t\u1eeb ${this.previousColumn.title} sang ${n.title}`),this.createNotification(` di chuy\u1ec3n th\u1ebb ${t.container.data[0].title} t\u1eeb ${this.previousColumn.title} sang ${n.title}`)))}updateCards(){this.cardService.updateCards(this.cardsDto).subscribe(()=>this.updatePreviousColumn())}showCreateCardModal(t){this.selectedColumn=t,document.getElementById("createCardModal").classList.add("is-active")}createCard(){var t,n;if(this.createCardForm.valid){let o={title:null===(t=this.createCardForm.get("title"))||void 0===t?void 0:t.value,content:null===(n=this.createCardForm.get("content"))||void 0===n?void 0:n.value,position:this.selectedColumn.cards.length};this.resetCreateCardForm(),this.cardService.createCard(o).subscribe(s=>{var a;if(this.pendingAttachment.length>0)for(let c of this.pendingAttachment)c.card=s,this.attachmentService.addNewFile(c).subscribe(()=>{});if(this.pendingTag.length>0)for(let c of this.pendingTag)null===(a=s.tags)||void 0===a||a.push(c);this.selectedColumn.cards.push(s),this.columnService.updateAColumn(this.selectedColumn.id,this.selectedColumn).subscribe(),this.createNoticeCard(`\u0111\xe3 th\xeam th\u1ebb ${s.title}`,s),this.createNotification(` \u0111\xe3 th\xeam th\u1ebb ${s.title}`),this.closeCreateCardModal()})}}resetCreateCardForm(){this.createCardForm=new d.cw({title:new d.NI("",d.kI.required),content:new d.NI})}closeCreateCardModal(){this.switchCreateTagsForm(),this.resetCreateCardForm(),this.selectedColumnID=-1,this.pendingAttachment=[],this.pendingTag=[],this.isTagsIsShown&&this.switchCreateTagsForm(),document.getElementById("createCardModal").classList.remove("is-active")}showEditCardModal(t,n){var o,s;this.selectedCard=t,this.selectedColumn=n,null===(o=this.createCardForm.get("title"))||void 0===o||o.setValue(t.title),null===(s=this.createCardForm.get("content"))||void 0===s||s.setValue(t.content),this.redirectService.showModal(t),this.getSelectedCardAttachment(),document.getElementById("editCardModal").classList.add("is-active")}editCard(){var t,n;this.selectedCard.title=null===(t=this.createCardForm.get("title"))||void 0===t?void 0:t.value,this.selectedCard.content=null===(n=this.createCardForm.get("content"))||void 0===n?void 0:n.value,this.resetCreateCardForm(),this.cardService.updateCard(this.selectedCard.id,this.selectedCard).subscribe(()=>{this.getCurrentBoard(),this.closeEditCardModal()})}closeEditCardModal(){this.redirectService.hideCardModal(),this.resetCreateCardForm(),this.isTagsIsShown&&this.switchEditTagsForm(),document.getElementById("editCardModal").classList.remove("is-active")}showDeleteCardModal(){document.getElementById("delete-card-modal").classList.add("is-active")}deleteCard(t){this.deleteAllComment(),this.cardService.deleteCard(t).subscribe(n=>{this.closeDeleteCardModal(),this.closeEditCardModal(),this.getCurrentBoard()})}deleteAllComment(){for(let t of this.redirectService.comments)this.commentCardService.deleteComment(t.id).subscribe()}closeDeleteCardModal(){document.getElementById("delete-card-modal").classList.remove("is-active")}showDeleteCommentModal(t){document.getElementById("deleteCommentModal").classList.add("is-active"),this.commentId=t}deleteComment(){let t={};for(let n of this.redirectService.comments)if(n.id==this.commentId){t=n;break}for(let n of t.replies)this.replyService.deleteReplyById(n.id).subscribe();this.commentCardService.deleteComment(this.commentId).subscribe(()=>{this.toastService.showMessage("X\xf3a th\xe0nh c\xf4ng","is-success"),this.getAllCommentByCardId(),this.closeDeleteCommentModal(),this.createNoticeInBoard("x\xf3a b\xecnh lu\u1eadn")})}createNoticeInBoard(t){let n={title:"B\u1ea3ng: "+this.currentBoard.title,content:`${this.loggedInUser.username} ${t} l\xfac ${this.notificationService.getTime()}`,url:"/trello/boards/"+this.currentBoard.id,status:!1,board:this.currentBoard,user:this.currentUser};this.activityLogService.saveNotification(n,this.currentBoardId)}closeDeleteCommentModal(){document.getElementById("deleteCommentModal").classList.remove("is-active")}showDeleteTag(t){document.getElementById("tagDeleteButton-"+t).classList.remove("is-hidden")}hideDeleteTag(t){document.getElementById("tagDeleteButton-"+t).classList.add("is-hidden")}showDeleteTags(t){document.getElementById("tagsDeleteButton-"+t).classList.remove("is-hidden")}hideDeleteTags(t){document.getElementById("tagsDeleteButton-"+t).classList.add("is-hidden")}addNewTag(){this.tagService.add(this.newTagForm.value).subscribe(n=>{var o;null===(o=this.currentBoard.tags)||void 0===o||o.push(n),this.boardDataUpdate(),this.newTagForm=new d.cw({color:new d.NI("is-primary"),name:new d.NI("")})})}switchEditTagsForm(){let t=document.getElementById("editTags");t.classList.contains("is-hidden")?(t.classList.remove("is-hidden"),this.isTagsIsShown=!0):(t.classList.add("is-hidden"),this.isTagsIsShown=!1)}switchCreateTagsForm(){let t=document.getElementById("createTags");t.classList.contains("is-hidden")?(t.classList.remove("is-hidden"),this.isTagsIsShown=!0):(t.classList.add("is-hidden"),this.isTagsIsShown=!1)}removeTagFromCard(t){var n,o;for(let s of this.selectedCard.tags)if(s.id==t.id){let a=null===(n=this.selectedCard.tags)||void 0===n?void 0:n.indexOf(s);null===(o=this.selectedCard.tags)||void 0===o||o.splice(a,1)}this.cardService.updateCard(this.selectedCard.id,this.selectedCard).subscribe(()=>{this.saveChange()})}addTagToCard(t){var n;for(let o of this.selectedCard.tags)if(o.id==t.id)return void this.toastService.showMessage("Nh\xe3n \u0111\xe3 c\xf3 trong th\u1ebb","is-danger");null===(n=this.selectedCard.tags)||void 0===n||n.push(t),this.cardService.updateCard(this.selectedCard.id,this.selectedCard).subscribe(()=>{this.saveChange()})}addTagToPending(t){for(let n of this.pendingTag)if(n.id==t.id)return void this.toastService.showMessage("Nh\xe3n \u0111\xe3 c\xf3 trong th\u1ebb","is-danger");this.pendingTag.push(t)}deleteTag(t){for(let n of this.currentBoard.columns)for(let o of n.cards)for(let s of o.tags)if(s.id==t){let a=o.tags.indexOf(s);o.tags.splice(a,1)}for(let n of this.currentBoard.tags)if(n.id==t){let o=this.currentBoard.tags.indexOf(n);this.currentBoard.tags.splice(o,1)}this.saveChange()}showPreview(t){if(this.toastService.showMessage("\u0110ang t\u1ea3i file xin vui l\xf2ng ch\u1edd","is-warning"),t.target.files&&t.target.files[0]){const n=new FileReader;if(n.onload=()=>this.fileSrc=t.target.result,n.readAsDataURL(t.target.files[0]),this.selectedFile=t.target.files[0],null!=this.selectedFile){const o=`${this.selectedFile.name.split(".").splice(0,-1).join(".")}_${(new Date).getTime()}`,s=this.storage.ref(o);this.storage.upload(o,this.selectedFile).snapshotChanges().pipe((0,pe.x)(()=>{s.getDownloadURL().subscribe(a=>{this.fileSrc=a})})).subscribe()}}else this.selectedFile=null;this.uploadFile()}pendingPreview(t){if(this.toastService.showMessage("\u0110ang t\u1ea3i file xin vui l\xf2ng ch\u1edd","is-warning"),t.target.files&&t.target.files[0]){const n=new FileReader;if(n.onload=()=>this.fileSrc=t.target.result,n.readAsDataURL(t.target.files[0]),this.selectedFile=t.target.files[0],null!=this.selectedFile){const o=`${this.selectedFile.name.split(".").splice(0,-1).join(".")}_${(new Date).getTime()}`,s=this.storage.ref(o);this.storage.upload(o,this.selectedFile).snapshotChanges().pipe((0,pe.x)(()=>{s.getDownloadURL().subscribe(a=>{this.fileSrc=a,this.pendingAttachment.push({source:this.fileSrc,name:this.selectedFile.name})})})).subscribe()}}else this.selectedFile=null}uploadFile(){if(this.isSubmitted=!0,this.newAttachment.card=this.selectedCard,this.canEdit&&null!=this.selectedFile){const t=`${this.selectedFile.name.split(".").slice(0,-1).join(".")}_${(new Date).getTime()}`,n=this.storage.ref(t);this.storage.upload(t,this.selectedFile).snapshotChanges().pipe((0,pe.x)(()=>{n.getDownloadURL().subscribe(o=>{this.fileSrc=o,this.newAttachment.source=o,this.newAttachment.name=`${this.selectedFile.name}`,this.newAttachment.card=this.selectedCard,this.attachmentService.addNewFile(this.newAttachment).subscribe(()=>{this.toastService.showMessage("Upload success","is-success"),this.getSelectedCardAttachment()},()=>{this.toastService.showMessage("Fail !","is-danger")})})})).subscribe()}}getSelectedCardAttachment(){this.attachmentService.getAttachmentByCard(this.selectedCard.id).subscribe(t=>{this.selectedCardAttachment=t})}deletePendingAttachment(t){for(let n=0;n<this.pendingAttachment.length;n++)if(this.pendingAttachment[t]==this.pendingAttachment[n])return void this.pendingAttachment.splice(t,1)}deleteAttachment(){this.attachmentService.deleteAttachmentById(this.selectedAttachmentId).subscribe(()=>{this.getSelectedCardAttachment(),this.hideDeleteAttachment()})}showDeleteAttachment(t){this.selectedAttachmentId=t,document.getElementById("deleteAttachment").classList.add("is-active")}hideDeleteAttachment(){this.selectedAttachmentId=-1,document.getElementById("deleteAttachment").classList.remove("is-active")}getCurrentBoardByURL(){this.loggedInUser=this.authenticationService.getCurrentUserValue(),this.userService.getUserById(this.loggedInUser.id).subscribe(t=>{this.currentUser=t}),this.activatedRoute.paramMap.subscribe(t=>{this.currentBoardId=parseInt(t.get("id")),this.getCurrentBoard()})}getMembers(){this.memberService.getMembersByBoardId(this.currentBoard.id).subscribe(t=>{this.members=t;for(let n of this.members)this.getMemberUser(n.userId);this.checkEditAllow()})}getMemberUser(t){this.userService.getUserById(t).subscribe(n=>{this.membersUser.push(n)})}getCurrentBoard(){this.boardService.getBoardById(this.currentBoardId).subscribe(t=>{this.currentBoard=t,this.activityLogService.findAllByBoardId(this.currentBoardId).subscribe(n=>{this.activityLogService.activities=n}),this.checkWorkspace(t),this.getMembers(),this.checkEditAllow()})}checkEditAllow(){var t;if(this.loggedInUser.id==this.currentBoard.owner.id&&(this.canEdit=!0),this.isBoardInWorkspace){if("Private"==this.currentBoard.type)return;if(this.currentWorkspace.owner.id==this.loggedInUser.id)return void(this.canEdit=!0);for(let o of this.memberInWorkspace)(null===(t=o.user)||void 0===t?void 0:t.id)==this.loggedInUser.id&&("Qu\u1ea3n tr\u1ecb"==o.role||"Ch\u1ec9nh s\u1eeda"==o.role)&&(this.canEdit=!0)}}checkWorkspace(t){this.boardService.isBoardInWorkspace(t.id).subscribe(n=>{this.isBoardInWorkspace=n,this.isBoardInWorkspace&&this.workspaceService.getCurrentWorkspaceID(this.currentBoard.id).subscribe(o=>{this.workspaceService.findById(o).subscribe(s=>{this.currentWorkspace=s,this.memberInWorkspace=s.members,this.checkEditAllow()})})})}boardDataUpdate(){this.boardService.updateBoard(this.currentBoardId,this.currentBoard).subscribe(()=>{this.getCurrentBoard()})}addColumn(){var t;if(this.columnForm.valid){let n={cards:[],position:this.currentBoard.columns.length,title:null===(t=this.columnForm.get("title"))||void 0===t?void 0:t.value};this.resetColumnForm(),this.columnService.createAColumn(n).subscribe(o=>{this.currentBoard.columns.push(o),this.boardDataUpdate(),this.createNoticeInBoard(`\u0111\xe3 th\xeam danh s\xe1ch ${o.title}`),this.createNotification(` \u0111\xe3 th\xeam danh s\xe1ch ${o.title}`),this.closeCreateColumnModal()})}}resetColumnForm(){this.columnForm=new d.cw({title:new d.NI("",d.kI.required)})}onFocusOut(t){this.columnService.updateAColumn(t.id,t).subscribe(()=>{this.boardDataUpdate()})}dropColumn(t){!this.canEdit||(se(this.currentBoard.columns,t.previousIndex,t.currentIndex),this.saveChange(),t.previousIndex!=t.currentIndex&&this.createNoticeInBoard(`thay \u0111\u1ed5i v\u1ecb tr\xed c\u1ee7a c\u1ed9t ${this.currentBoard.columns[t.previousIndex].title} v\u1edbi c\u1ed9t ${this.currentBoard.columns[t.currentIndex].title}`))}setPreviousColumn(t){let n=parseInt(t.previousContainer.id);for(let o of this.currentBoard.columns)if(o.id==n){this.previousColumn=o;break}}saveChange(){this.updatePosition()}updatePosition(){for(let t=0;t<this.currentBoard.columns.length;t++){this.currentBoard.columns[t].position=t;for(let n=0;n<this.currentBoard.columns[t].cards.length;n++)this.currentBoard.columns[t].cards[n].position=n}this.updateDto()}updateDto(){this.columnsDto=[],this.cardsDto=[];for(let t of this.currentBoard.columns){this.columnsDto.push(t);for(let n of t.cards)this.cardsDto.push(n)}this.updateCards()}updatePreviousColumn(){-1!=this.previousColumn.id?this.columnService.updateAColumn(this.previousColumn.id,this.previousColumn).subscribe(()=>this.updateColumns()):this.updateColumns()}updateColumns(){this.columnService.updateAllColumn(this.columnsDto).subscribe(()=>{this.boardDataUpdate()})}deleteColumn(){for(let t=0;t<this.currentBoard.columns.length;t++)this.currentBoard.columns[t].id==this.selectedColumnID&&(this.selectedIndex=this.currentBoard.columns.indexOf(this.currentBoard.columns[t]),this.createNoticeInBoard(`x\xf3a danh s\xe1ch ${this.currentBoard.columns[t].title}`),this.createNotification(` x\xf3a danh s\xe1ch ${this.currentBoard.columns[t].title}`),this.currentBoard.columns.splice(this.selectedIndex,1),this.columnService.deleteAColumn(this.selectedColumnID).subscribe(()=>{this.saveChange(),this.closeDeleteColumnModal()}))}showDeleteColumnModal(t){this.selectedColumnID=t,document.getElementById("deleteColumnModal").classList.add("is-active")}closeDeleteColumnModal(){this.selectedColumnID=-1,this.selectedIndex=-1,document.getElementById("deleteColumnModal").classList.remove("is-active")}showCreateColumnModal(){document.getElementById("createColumnModal").classList.add("is-active")}closeCreateColumnModal(){document.getElementById("createColumnModal").classList.remove("is-active")}addComment(){if(this.commentForm.valid){let t={content:this.commentForm.value.content,card:this.selectedCard,user:this.currentUser};this.commentForm=new d.cw({content:new d.NI("",d.kI.required)}),this.commentCardService.saveComment(t).subscribe(()=>{this.redirectService.showModal(this.selectedCard),this.createNoticeCard(`\u0111\xe3 b\xecnh lu\u1eadn v\xe0o th\u1ebb ${this.selectedCard.title}`,this.selectedCard),this.createNotification(` \u0111\xe3 b\xecnh lu\u1eadn v\xe0o th\u1ebb ${this.selectedCard.title}`)})}}getAllCommentByCardId(){this.commentCardService.findAllByCardId(this.redirectService.card.id).subscribe(t=>{this.redirectService.comments=t})}displaySubmitCommentButton(){document.getElementById("submitComment-"+this.redirectService.card.id).classList.remove("is-hidden")}showSubmitCommentButton(){document.getElementById("submitComment-"+this.redirectService.card.id).classList.add("is-hidden")}get content(){return this.commentForm.get("content")}hiddenDeleteAttachmentConfirm(){document.getElementById("delete-attachment-confirm").classList.remove("is-active")}hiddenDeleteConfirm(){document.getElementById("delete-card-modal").classList.remove("is-active")}updateMembers(t){this.members=t,this.removeNonMembersFromCards()}removeNonMembersFromCards(){for(let t of this.currentBoard.columns)for(let n of t.cards)for(let o of n.users)if(!this.isBoardMember(o)){let s=n.users.indexOf(o);n.users.splice(s,1),this.createNoticeInBoard(`x\xf3a th\xe0nh vi\xean ${n.users[s].username}\n                                      kh\u1ecfi th\u1ebb "${n.title}"`),this.createNotification(` x\xf3a th\xe0nh vi\xean ${n.users[s].username}\n                                      kh\u1ecfi th\u1ebb "${n.title}"`)}}isBoardMember(t){let n=!1;for(let o of this.members)if(o.userId==t.id){n=!0;break}return n}saveChanges(){this.updatePositions(),this.updateDto(),this.updateCards()}updatePositions(){let t=this.currentBoard.columns;for(let n=0;n<t.length;n++){let o=t[n];o.position=n;let s=o.cards;for(let a=0;a<s.length;a++)s[a].position=a}}toggleMemberForm(){let t=document.getElementById("member-form");t.classList.contains("is-hidden")?t.classList.remove("is-hidden"):t.classList.add("is-hidden")}updateSelectedCard(){for(let t of this.currentBoard.columns)for(let n of t.cards)n.id==this.redirectService.card.id&&(this.redirectService.card=n)}createNoticeCard(t,n){let o={title:"B\u1ea3ng: "+this.currentBoard.title,content:`${this.currentUser.username} ${t} l\xfac ${this.notificationService.getTime()}`,url:"/trello/board/"+this.currentBoard.id,status:!1,board:this.currentBoard,card:n,user:this.currentUser};this.activityLogService.saveNotification(o,this.currentBoardId)}addUserToCard(t){var n;this.updateSelectedCard();let o=!0;for(let s of this.redirectService.card.users)if(s.id==t.userId)return void(o=!1);if(o){let s={id:t.userId,username:t.username};null===(n=this.selectedCard.users)||void 0===n||n.push(s),this.cardService.updateCard(this.selectedCard.id,this.selectedCard).subscribe(()=>{}),this.createNoticeCard(`\u0111\xe3 th\xeam "${s.username}" v\xe0o th\u1ebb "${this.redirectService.card.title}"`,this.redirectService.card),this.createNotification(` \u0111\xe3 th\xeam "${s.username}" v\xe0o th\u1ebb "${this.redirectService.card.title}"`)}}removeUserFromCard(t){this.updateSelectedCard();for(let n of this.redirectService.card.users)if(n.id==t.id){let o=t.username,s=this.redirectService.card.users.indexOf(n);this.redirectService.card.users.splice(s,1),this.createNoticeInBoard(`x\xf3a th\xe0nh vi\xean ${o} kh\u1ecfi th\u1ebb ${this.redirectService.card.title}`,this.redirectService.card),this.createNotification(` x\xf3a th\xe0nh vi\xean ${o} kh\u1ecfi th\u1ebb ${this.redirectService.card.title}`)}}createNotification(t){let n=[];this.currentUser.id!=this.currentBoard.owner.id&&n.push(this.currentUser);for(let s of this.membersUser)this.currentUser.id!=s.id&&n.push(s);console.log(n);let o={title:this.currentBoard.title,content:this.loggedInUser.username+t+" l\xfac "+this.notificationService.getTime(),status:!1,url:"/trello/board/"+this.currentBoard.id,receiver:n,user:this.loggedInUser};this.notificationService.saveNotification(o)}filterBoard(t){let n=t[0],o=t[1],s=t[2],a=!(0==n.length&&0==o.length&&0==s.length);this.boardService.getBoardById(this.currentBoardId).subscribe(c=>{if(this.currentBoard=c,a)for(let l of this.currentBoard.columns)for(let g=0;g<l.cards.length;g++){let p=l.cards[g];this.isValidTag(p,n)&&this.isValidMember(p,o)&&this.isValidLabel(p,s)||(l.cards.splice(g,1),g--)}})}isValidMember(t,n){if(0==n.length)return!0;for(let o of n){let s=!1;for(let a of t.users)if(o==a.id){s=!0;break}if(!s)return!1}return!0}isValidTag(t,n){if(0==n.length)return!0;for(let o of n){let s=!1;for(let a of t.tags)if(o==a.id){s=!0;break}if(!s)return!1}return!0}isValidLabel(t,n){if(0==n.length)return!0;for(let o of n){let s=!1;for(let a of t.tags)if(o==a.id){s=!0;break}if(!s)return!1}return!0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.gz),e.Y36(M.$),e.Y36(x.i),e.Y36(b.F0),e.Y36(O.k),e.Y36(J.K),e.Y36(K),e.Y36(Qt),e.Y36(Yt),e.Y36($t.Q1),e.Y36(je.V),e.Y36(zt.L),e.Y36(L),e.Y36(E),e.Y36(Vt.g),e.Y36(R.g),e.Y36(Ke))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-board-view"]],decls:213,vars:37,consts:[[1,"root"],[3,"tags","canEdit","currentBoard","members","isInWorkspace","workspace","loggedInUser","updateMemberEvent","filterEvent"],[1,"board"],[1,"board-wrapper"],[1,"board-columns"],["cdkDropList","","cdkDropListGroup","","cdkDropListOrientation","horizontal",1,"board-columns",3,"cdkDropListDropped"],["cdkDragHandle","","cdkDragLockAxis","x","class","board-column","cdkDrag","",4,"ngFor","ngForOf"],["class","board-column-add",4,"ngIf"],["id","createColumnModal",1,"modal"],[1,"modal-background"],[1,"modal-card"],[3,"formGroup","ngSubmit"],[1,"modal-card-head"],[1,"modal-card-title"],[1,"modal-card-body"],[1,"label"],["type","text","formControlName","title","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1 c\u1ee7a danh s\xe1ch","maxlength","512",1,"input","add-column-input",2,"position","revert"],["style","font-size: large; color: red",4,"ngIf"],[1,"modal-card-foot"],["type","submit",1,"button","is-info",2,"position","revert",3,"disabled"],[1,"button","is-light",3,"click"],["id","deleteColumnModal",1,"modal"],[1,"modal-background",3,"click"],[1,"modal-card",2,"width","500px","height","215px"],["aria-label","close",1,"delete",3,"click"],[1,"button","is-danger",3,"click"],["id","createCardModal",1,"modal"],[3,"formGroup"],["type","text","formControlName","title","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1",1,"input","is-light",2,"font-weight","bold","font-size","larger"],["style","font-size: medium; color: red",4,"ngIf"],[2,"font-size","medium"],["class","tag is-light",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"columns","columns-card-body"],[1,"column","column-card-body"],["cols","70","rows","10","formControlName","content","placeholder","Nh\u1eadp n\u1ed9i dung",2,"font-size","large"],[1,"column","is-one-third"],[1,"button","members-button",3,"click"],["id","createTags",1,"is-hidden"],[3,"mouseover","mouseout",4,"ngFor","ngForOf"],["type","text","formControlName","name","required","","placeholder","T\xean nh\xe3n",1,"input","is-info","is-small",2,"margin-bottom","5px"],[4,"ngIf"],[1,"label",2,"font-size","small"],[1,"select","is-small",2,"margin-bottom","5px"],["formControlName","color"],["value","is-primary",2,"color","lightgreen","background-color","rgb(235, 255, 252)"],["value","is-success",2,"color","darkgreen","background-color","rgb(239, 250, 245)"],["value","is-link",2,"color","darkblue","background-color","rgb(239, 241, 250)"],["value","is-info",2,"color","lightblue","background-color","rgb(239, 245, 251)"],["value","is-warning",2,"color","yellow","background-color","rgb(255, 250, 235)"],["value","is-danger",2,"color","red","background-color","rgb(254, 236, 240)"],[3,"disabled","click"],[1,"content"],[3,"ngSubmit"],["uploadFileCard","ngForm"],[1,"update-info"],["for","file-upload",1,"custom-file-upload"],[1,"fa","fa-upload"],["id","file-upload","type","file",3,"change"],["preview",""],[1,"modal-card-body",3,"change"],["id","pendingAttachment","class","media-attachment-body","style","margin-left: 40px",4,"ngFor","ngForOf"],[1,"button","is-info","add-new-card",3,"disabled","click"],["id","editCardModal",1,"modal",3,"ngClass"],["class","tag is-light",3,"click",4,"ngFor","ngForOf"],[1,"column","column-card-body","left"],["rows","8","formControlName","content","placeholder","Nh\u1eadp n\u1ed9i dung",2,"font-size","large"],[1,"model-card-body-content",2,"margin-top","15px"],[1,"media"],[1,"media-left"],[1,"user-img","img-circle",3,"src"],[1,"media-content"],[1,"field"],[1,"control"],["formControlName","content","placeholder","B\xecnh lu\u1eadn...",1,"textarea",3,"click"],[1,"level"],[1,"level-left"],[1,"level-item"],["type","submit",1,"button","is-primary","is-light","submitComment","is-hidden",3,"id","disabled"],[4,"ngFor","ngForOf"],[2,"font-weight","bold"],["style","margin-left: 30px","id","attachments","class","media-attachment-body",4,"ngFor","ngForOf"],["class","column is-one-third",4,"ngIf"],[1,"button","is-info","add-new-card",3,"click"],["id","delete-card-modal",1,"modal"],[1,"button","is-danger",3,"disabled","click"],["id","deleteAttachment",1,"modal"],["id","deleteCommentModal",1,"modal"],[1,"button","is-danger","is-light",3,"click"],["cdkDragHandle","","cdkDragLockAxis","x","cdkDrag","",1,"board-column"],[1,"column-title",2,"display","flex","justify-content","left"],["type","text",1,"input","title-column",3,"ngModel","value","focusout","ngModelChange"],["class","button is-hoverable","style","max-width: 50px; margin-top: 5px; background: inherit; border: 0",3,"click",4,"ngIf"],["cdkDropList","",1,"tasks-container",3,"id","cdkDropListData","cdkDropListDropped"],["class","task","cdkDrag","",3,"cdkDragData","click",4,"ngFor","ngForOf"],[1,"button","is-hoverable",2,"max-width","50px","margin-top","5px","background","inherit","border","0",3,"click"],[1,"far","fa-trash-alt"],["cdkDrag","",1,"task",3,"cdkDragData","click"],["class","tag is-light",3,"ngClass",4,"ngFor","ngForOf"],[1,"item-title"],["class","tag is-light",4,"ngFor","ngForOf"],[1,"tag","is-light",3,"ngClass"],[1,"tag","is-light"],[1,"button","button-add-new-card","is-light",3,"click"],[1,"board-column-add"],[1,"board-column",2,"margin-left","0px"],[1,"column-title"],[2,"font-size","large","color","red"],[2,"font-size","medium","color","red"],[1,"tag","is-light",3,"ngClass","click"],[3,"mouseover","mouseout"],[3,"click"],[1,"tag","is-danger","is-hidden",2,"margin-left","20px",3,"id"],[2,"font-size","small","color","red"],["id","pendingAttachment",1,"media-attachment-body",2,"margin-left","40px"],[1,"media","link-file"],["target","_blank",3,"href"],[1,"tag","is-danger",2,"margin-left","20px"],[1,"tag","is-light",3,"click"],[1,"model-card-body-content","comment-body"],[1,"media","media-comment-body"],["class","media-right button-delete-comment",4,"ngIf"],[1,"media-right","button-delete-comment"],[1,"delete",3,"click"],["id","attachments",1,"media-attachment-body",2,"margin-left","30px"],[1,"member-section"],["id","member-form",1,"is-hidden"],[2,"font-size","small"],["id","editTags",1,"is-hidden"],["for","file-upload2",1,"custom-file-upload"],["id","file-upload2","type","file",3,"change"],[1,"tag",3,"click"],["style","font-size: small",4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"app-navbar-board-header",1),e.NdJ("updateMemberEvent",function(s){return n.updateMembers(s)})("filterEvent",function(s){return n.filterBoard(s)}),e.qZA(),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.NdJ("cdkDropListDropped",function(s){return n.dropColumn(s)}),e.YNc(6,Sn,8,7,"div",6),e.qZA(),e.YNc(7,Un,5,0,"div",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",8),e.TgZ(9,"div",9),e.TgZ(10,"div",10),e.TgZ(11,"form",11),e.NdJ("ngSubmit",function(){return n.addColumn()}),e.TgZ(12,"header",12),e.TgZ(13,"p",13),e._uU(14,"T\u1ea1o m\u1ed9t danh s\xe1ch m\u1edbi"),e.qZA(),e.qZA(),e.TgZ(15,"section",14),e.TgZ(16,"label",15),e._uU(17,"Ti\xeau \u0111\u1ec1:"),e.qZA(),e._UZ(18,"input",16),e.YNc(19,Nn,2,0,"span",17),e.qZA(),e.TgZ(20,"footer",18),e.TgZ(21,"button",19),e._uU(22,"Th\xeam danh s\xe1ch "),e.qZA(),e.TgZ(23,"button",20),e.NdJ("click",function(){return n.closeCreateColumnModal()}),e._uU(24,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",21),e.TgZ(26,"div",22),e.NdJ("click",function(){return n.closeDeleteColumnModal()}),e.qZA(),e.TgZ(27,"div",23),e.TgZ(28,"header",12),e.TgZ(29,"p",13),e._uU(30,"X\xf3a danh s\xe1ch"),e.qZA(),e.TgZ(31,"button",24),e.NdJ("click",function(){return n.closeDeleteColumnModal()}),e.qZA(),e.qZA(),e.TgZ(32,"section",14),e._uU(33," B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a danh s\xe1ch n\xe0y? "),e.qZA(),e.TgZ(34,"footer",18),e.TgZ(35,"button",25),e.NdJ("click",function(){return n.deleteColumn()}),e._uU(36,"X\xf3a"),e.qZA(),e.TgZ(37,"button",20),e.NdJ("click",function(){return n.closeDeleteColumnModal()}),e._uU(38,"Kh\xf4ng"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",26),e.TgZ(40,"div",9),e.TgZ(41,"div",10),e.TgZ(42,"form",27),e.TgZ(43,"header",12),e.TgZ(44,"p",13),e._UZ(45,"input",28),e.YNc(46,Fn,2,0,"span",29),e._UZ(47,"br"),e.TgZ(48,"span",30),e._uU(49),e.qZA(),e.qZA(),e._UZ(50,"br"),e.qZA(),e.TgZ(51,"section",14),e.TgZ(52,"div"),e.TgZ(53,"ul"),e.TgZ(54,"li"),e.YNc(55,Jn,2,2,"span",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",32),e.TgZ(57,"div",33),e.TgZ(58,"label",15),e._uU(59,"N\u1ed9i dung:"),e.qZA(),e._UZ(60,"textarea",34),e.qZA(),e.TgZ(61,"div",35),e.TgZ(62,"div"),e.TgZ(63,"button",36),e.NdJ("click",function(){return n.switchCreateTagsForm()}),e._uU(64,"Nh\xe3n"),e.qZA(),e._UZ(65,"br"),e.TgZ(66,"div",37),e.TgZ(67,"label",15),e._uU(68,"C\xe1c nh\xe3n:"),e.qZA(),e.TgZ(69,"ul"),e.YNc(70,Ln,6,3,"li",38),e.qZA(),e.TgZ(71,"form",27),e.TgZ(72,"label",15),e._uU(73,"T\u1ea1o nh\xe3n m\u1edbi:"),e.qZA(),e._UZ(74,"input",39),e.YNc(75,Rn,3,0,"div",40),e.TgZ(76,"label",41),e._uU(77,"M\xe0u c\u1ee7a nh\xe3n"),e.qZA(),e.TgZ(78,"div",42),e.TgZ(79,"select",43),e.TgZ(80,"option",44),e._uU(81,"Xanh l\xe1 nh\u1ea1t "),e.qZA(),e.TgZ(82,"option",45),e._uU(83," Xanh l\xe1 \u0111\u1eadm "),e.qZA(),e.TgZ(84,"option",46),e._uU(85,"Xanh d\u01b0\u01a1ng \u0111\u1eadm "),e.qZA(),e.TgZ(86,"option",47),e._uU(87," Xanh d\u01b0\u01a1ng nh\u1ea1t "),e.qZA(),e.TgZ(88,"option",48),e._uU(89," V\xe0ng "),e.qZA(),e.TgZ(90,"option",49),e._uU(91,"\u0110\u1ecf "),e.qZA(),e.qZA(),e.qZA(),e._UZ(92,"br"),e.TgZ(93,"button",50),e.NdJ("click",function(){return n.addNewTag()}),e._uU(94,"Th\xeam nh\xe3n m\u1edbi"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(95,"div",51),e.TgZ(96,"div"),e._uU(97,"\u0110\xednh k\xe8m:"),e.qZA(),e.TgZ(98,"form",52,53),e.NdJ("ngSubmit",function(s){return n.pendingPreview(s)}),e.TgZ(100,"div",54),e.TgZ(101,"label",55),e._UZ(102,"i",56),e._uU(103," Th\xeam t\u1ec7p \u0111\xednh k\xe8m "),e.qZA(),e.TgZ(104,"input",57,58),e.NdJ("change",function(s){return n.pendingPreview(s)}),e.qZA(),e.TgZ(106,"span",59),e.NdJ("change",function(s){return n.pendingPreview(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(107,Wn,7,2,"div",60),e.qZA(),e.TgZ(108,"footer",18),e.TgZ(109,"button",61),e.NdJ("click",function(){return n.createCard()}),e._uU(110," T\u1ea1o th\u1ebb "),e.qZA(),e.TgZ(111,"button",20),e.NdJ("click",function(){return n.closeCreateCardModal()}),e._uU(112,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(113,"div",62),e.TgZ(114,"div",9),e.TgZ(115,"div",10),e.TgZ(116,"section",14),e.TgZ(117,"div",32),e.TgZ(118,"div",33),e.TgZ(119,"form",27),e.TgZ(120,"header",12),e.TgZ(121,"p",13),e._UZ(122,"input",28),e.YNc(123,Hn,2,0,"span",29),e._UZ(124,"br"),e.TgZ(125,"span",30),e._uU(126),e.qZA(),e.qZA(),e._UZ(127,"br"),e.qZA(),e.TgZ(128,"section",14),e.TgZ(129,"div",32),e.TgZ(130,"div",33),e.TgZ(131,"div"),e.TgZ(132,"ul"),e.TgZ(133,"li"),e.YNc(134,Qn,2,2,"span",31),e.qZA(),e.TgZ(135,"li"),e.YNc(136,Yn,2,1,"span",63),e.qZA(),e.qZA(),e.qZA(),e.TgZ(137,"div",32),e.TgZ(138,"div",64),e.TgZ(139,"label",15),e._uU(140,"N\u1ed9i dung:"),e.qZA(),e.TgZ(141,"textarea",65),e._uU(142),e.qZA(),e.TgZ(143,"div",66),e.TgZ(144,"article",67),e.TgZ(145,"figure",68),e._UZ(146,"img",69),e.qZA(),e.TgZ(147,"form",11),e.NdJ("ngSubmit",function(){return n.addComment()}),e.TgZ(148,"div",70),e.TgZ(149,"div",71),e.TgZ(150,"p",72),e.TgZ(151,"textarea",73),e.NdJ("click",function(){return n.displaySubmitCommentButton()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(152,"nav",74),e.TgZ(153,"div",75),e.TgZ(154,"div",76),e.TgZ(155,"button",77),e._uU(156,"G\u1eedi "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(157,zn,13,4,"div",78),e._UZ(158,"hr"),e.TgZ(159,"p",79),e._uU(160,"C\xe1c file \u0111\xednh k\xe8m:"),e.qZA(),e.YNc(161,Vn,7,2,"div",80),e.qZA(),e.YNc(162,ei,51,5,"div",81),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(163,"footer",18),e.TgZ(164,"button",82),e.NdJ("click",function(){return n.editCard()}),e._uU(165,"S\u1eeda"),e.qZA(),e.TgZ(166,"button",20),e.NdJ("click",function(){return n.closeEditCardModal()}),e._uU(167,"H\u1ee7y"),e.qZA(),e.TgZ(168,"button",25),e.NdJ("click",function(){return n.showDeleteCardModal()}),e._uU(169,"X\xf3a"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(170,"div",83),e.TgZ(171,"div",22),e.NdJ("click",function(){return n.closeDeleteCardModal()}),e.qZA(),e.TgZ(172,"div",23),e.TgZ(173,"header",12),e.TgZ(174,"p",13),e._uU(175,"X\xf3a th\u1ebb"),e.qZA(),e.TgZ(176,"button",24),e.NdJ("click",function(){return n.closeDeleteCardModal()}),e.qZA(),e.qZA(),e.TgZ(177,"section",14),e._uU(178," B\u1ea1n \u0111\xe3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a th\u1ebb?? "),e.qZA(),e.TgZ(179,"footer",18),e.TgZ(180,"button",84),e.NdJ("click",function(){return n.deleteCard(n.selectedCard.id)}),e._uU(181,"X\xf3a "),e.qZA(),e.TgZ(182,"button",20),e.NdJ("click",function(){return n.closeDeleteCardModal()}),e._uU(183,"Kh\xf4ng"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(184,"div",85),e.TgZ(185,"div",9),e.TgZ(186,"div",10),e.TgZ(187,"header",12),e.TgZ(188,"h1"),e._uU(189,"Th\xf4ng b\xe1o"),e.qZA(),e.TgZ(190,"button",24),e.NdJ("click",function(){return n.hideDeleteAttachment()}),e.qZA(),e.qZA(),e.TgZ(191,"section",14),e.TgZ(192,"p"),e._uU(193,"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a file \u0111\xednh k\xe8m n\xe0y ch\u1ee9?"),e.qZA(),e.qZA(),e.TgZ(194,"footer",18),e.TgZ(195,"button",25),e.NdJ("click",function(){return n.deleteAttachment()}),e._uU(196,"X\xf3a"),e.qZA(),e.TgZ(197,"button",20),e.NdJ("click",function(){return n.hideDeleteAttachment()}),e._uU(198,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(199,"div",86),e._UZ(200,"div",9),e.TgZ(201,"div",23),e.TgZ(202,"header",12),e.TgZ(203,"p",13),e._uU(204,"Th\xf4ng b\xe1o"),e.qZA(),e.TgZ(205,"button",24),e.NdJ("click",function(){return n.closeDeleteCommentModal()}),e.qZA(),e.qZA(),e.TgZ(206,"section",14),e._uU(207," B\u1ea1n c\xf3 mu\u1ed1n x\xf3a b\xecnh lu\u1eadn? "),e.qZA(),e.TgZ(208,"footer",18),e.TgZ(209,"button",87),e.NdJ("click",function(){return n.deleteComment()}),e._uU(210,"X\xf3a"),e.qZA(),e.TgZ(211,"button",20),e.NdJ("click",function(){return n.closeDeleteCommentModal()}),e._uU(212,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tags",n.tags)("canEdit",n.canEdit)("currentBoard",n.currentBoard)("members",n.members)("isInWorkspace",n.isBoardInWorkspace)("workspace",n.currentWorkspace)("loggedInUser",n.currentUser),e.xp6(5),e.Q6J("ngForOf",n.currentBoard.columns),e.xp6(1),e.Q6J("ngIf",n.canEdit),e.xp6(4),e.Q6J("formGroup",n.columnForm),e.xp6(8),e.Q6J("ngIf",n.columnForm.invalid&&n.columnForm.touched),e.xp6(2),e.Q6J("disabled",n.columnForm.invalid),e.xp6(21),e.Q6J("formGroup",n.createCardForm),e.xp6(4),e.Q6J("ngIf",(n.createCardForm.get("title").dirty||n.createCardForm.get("title").touched)&&n.createCardForm.get("title").invalid),e.xp6(3),e.hij("T\u1ea1i danh s\xe1ch ",n.selectedColumn.title,""),e.xp6(6),e.Q6J("ngForOf",n.pendingTag),e.xp6(15),e.Q6J("ngForOf",n.currentBoard.tags),e.xp6(1),e.Q6J("formGroup",n.newTagForm),e.xp6(4),e.Q6J("ngIf",n.newTagForm.invalid&&n.newTagForm.touched),e.xp6(18),e.Q6J("disabled",n.newTagForm.invalid),e.xp6(14),e.Q6J("ngForOf",n.pendingAttachment),e.xp6(2),e.Q6J("disabled",n.createCardForm.invalid),e.xp6(4),e.Q6J("ngClass",n.redirectService.modalClass),e.xp6(6),e.Q6J("formGroup",n.createCardForm),e.xp6(4),e.Q6J("ngIf",(n.createCardForm.get("title").dirty||n.createCardForm.get("title").touched)&&n.createCardForm.get("title").invalid),e.xp6(3),e.hij("T\u1ea1i danh s\xe1ch ",n.selectedColumn.title,""),e.xp6(8),e.Q6J("ngForOf",n.selectedCard.tags),e.xp6(2),e.Q6J("ngForOf",n.selectedCard.users),e.xp6(6),e.Oqu(n.selectedCard.content),e.xp6(4),e.Q6J("src",n.currentUser.image,e.LSH),e.xp6(1),e.Q6J("formGroup",n.commentForm),e.xp6(8),e.MGl("id","submitComment-",n.selectedCard.id,""),e.Q6J("disabled",n.commentForm.invalid),e.xp6(2),e.Q6J("ngForOf",n.redirectService.comments),e.xp6(4),e.Q6J("ngForOf",n.selectedCardAttachment),e.xp6(1),e.Q6J("ngIf",n.canEdit),e.xp6(18),e.Q6J("disabled",n.createCardForm.invalid))},directives:[yn,Jt,Ut,_.sg,_.O5,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,d.nD,d.Q7,d.EJ,d.YN,d.Kr,d.F,_.mk,Lt,Wt,d.On],styles:['body[_ngcontent-%COMP%]{overflow-y:auto;position:relative}.root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-item[_ngcontent-%COMP%]{list-style:none}.img-circle[_ngcontent-%COMP%]{margin-top:3px;height:33px;width:33px;-webkit-clip-path:circle(50%);clip-path:circle(50%)}.icon-link[_ngcontent-%COMP%]{display:inline-flex;font-size:25px;text-decoration:none;color:var(--color-icon);width:40px;height:40px;transition:.5s linear;position:relative;z-index:1;margin:auto}.icon-link[_ngcontent-%COMP%]:hover{color:#fff}.icon-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto}.fa-plus[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bell[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bars[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-home[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-board[_ngcontent-%COMP%]{font-size:20px;margin:11px 5px 5px}.board-header[_ngcontent-%COMP%]{display:flex;margin:inherit}.nav[_ngcontent-%COMP%]{background:rgba(255,255,255,.07);display:flex;margin:inherit}.nav-brand-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;margin:auto}.nav-brand-end[_ngcontent-%COMP%]{margin-left:1100px;display:flex;justify-content:flex-end;height:40px;text-decoration:none;align-items:center;background-color:#ffffff4d;box-shadow:none;color:#fff;font-weight:bold;line-height:32px;padding:0;white-space:nowrap}.nav-content[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;line-height:1}.nav-item[_ngcontent-%COMP%]{display:flex;width:32px;justify-content:center;align-items:center;margin:0;height:40px}h1.app-name[_ngcontent-%COMP%]{padding:4px}.app-name[_ngcontent-%COMP%]{font-size:20px;font-family:"Lato",sans-serif;font-weight:bold}.has-gradient-text[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffffff,#efd0d0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.board[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:900px;min-width:0;min-height:0}.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow-x:auto;margin-left:13px}.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board-columns[_ngcontent-%COMP%]{display:flex}.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board-columns[_ngcontent-%COMP%]   .board-column[_ngcontent-%COMP%]{max-width:314px;display:flex;flex-direction:column;flex-grow:1;flex-basis:0;min-width:300px;margin:50px 50px 50px 0;padding:15px;border-radius:4px;background:rgba(255,255,255,.5)}.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board-columns[_ngcontent-%COMP%]   .board-column[_ngcontent-%COMP%]:not(:first-child){margin-left:0}.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board-columns[_ngcontent-%COMP%]   .board-column[_ngcontent-%COMP%]   .column-title[_ngcontent-%COMP%]{color:#523535;font-size:15px;font-weight:800;font-family:"Lato",sans-serif;text-transform:uppercase;margin-bottom:20px}.task[_ngcontent-%COMP%]{display:flex;padding:18px 12px;background:#ffffff;border-bottom:solid 1px #ffffff;border-radius:4px;margin-bottom:15px;box-shadow:0 5px 5px -3px #00000014,0 3px 14px 2px #0000000d}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.tasks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-board[_ngcontent-%COMP%]{background-color:#4c94be;border-radius:.3rem;transition:background-color .15s}.column-title-add[_ngcontent-%COMP%]{background-color:#00000014}.button-create-column[_ngcontent-%COMP%]{margin-top:10px}.window-close[_ngcontent-%COMP%]{display:none;cursor:pointer}.board-column[_ngcontent-%COMP%]:hover   .window-close[_ngcontent-%COMP%]{display:inline-block}.button-delete-comment[_ngcontent-%COMP%]{display:none}.media-comment-body[_ngcontent-%COMP%]:hover   .button-delete-comment[_ngcontent-%COMP%]{display:inline-block}.button-delete-reply[_ngcontent-%COMP%]{display:none}.members-button[_ngcontent-%COMP%]{height:35px;width:100px}.member-section[_ngcontent-%COMP%]{margin-top:10px}.tags-button[_ngcontent-%COMP%]{height:35px;width:100px;margin-top:5px}.model-card-body-content-reply[_ngcontent-%COMP%]:hover   .button-delete-reply[_ngcontent-%COMP%]{display:inline-block}.fa-trash-alt[_ngcontent-%COMP%]{height:17.5px;width:20px}.modal-card-body[_ngcontent-%COMP%]   .column-card-body[_ngcontent-%COMP%]{width:1px}.model-card-body-content[_ngcontent-%COMP%]{display:flex;float:left;width:481px;margin-right:10px;margin-bottom:20px}.model-card-body-upload-file[_ngcontent-%COMP%]{float:right;width:19%}.modal-card[_ngcontent-%COMP%]{width:1000px;height:auto}.media[_ngcontent-%COMP%]{display:flex;text-align:inherit}.modal-card-title[_ngcontent-%COMP%]{border:transparent;outline:transparent;background-color:#f5f5f5;font-weight:bold;box-shadow:none}.modal-card-content[_ngcontent-%COMP%]{border:transparent;outline:transparent;background-color:#fff;box-shadow:inset 0 .0625em .125em #0a0a0a33}.form-create-new-card[_ngcontent-%COMP%]{margin-top:10px}.button-option[_ngcontent-%COMP%]{margin-top:10px}.add-new-card[_ngcontent-%COMP%]{margin-right:10px}.textarea[_ngcontent-%COMP%]{max-height:40em;min-height:4em;width:433px}.comment-body[_ngcontent-%COMP%]{margin-left:50px}.comment-body[_ngcontent-%COMP%]   .media-comment-body[_ngcontent-%COMP%]{width:433px}.button-delete-reply[_ngcontent-%COMP%]{margin-left:30px}.file[_ngcontent-%COMP%]{margin-bottom:5px}.delete-attachment-confirm[_ngcontent-%COMP%]{display:none;color:red}.media-attachment-body[_ngcontent-%COMP%]:hover   .delete-attachment-confirm[_ngcontent-%COMP%]{display:inline-block}.reply-input[_ngcontent-%COMP%]{width:310px;margin-right:6px}.reply-button[_ngcontent-%COMP%]{text-decoration:none}.title-column[_ngcontent-%COMP%]{height:40px;background:inherit;font-weight:bold;border:none;position:revert;margin:5px 4px;box-shadow:none;width:97%}.title-column[_ngcontent-%COMP%]:focus{background-color:#fff}.tasks-container[_ngcontent-%COMP%]{overflow:auto;min-height:300px}.item-title[_ngcontent-%COMP%]{padding-left:5px}.task[_ngcontent-%COMP%]{margin:3px 7px 20px}.button-add-new-card[_ngcontent-%COMP%]{margin:0 7px 20px;background-color:#0000}.span-upload-file-card[_ngcontent-%COMP%]{border:1px solid #DDDDDD;height:35px;width:100px;padding-left:8px;padding-right:5px;border-radius:4px;padding-top:5px;margin-top:5px}.span-upload-file-card[_ngcontent-%COMP%]:hover{border:1.5px solid #AAAAAA}.modal-card-foot[_ngcontent-%COMP%]{align-items:center;background-color:#f5f5f5;display:flex;justify-content:right;padding:20px;position:relative}.left[_ngcontent-%COMP%]{display:flex;flex-direction:column}.left[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{flex:1}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:6px 12px;cursor:pointer}']}),i})();function ni(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().displayAddBoardModal()}),e.TgZ(1,"div",43),e.TgZ(2,"a"),e._UZ(3,"i",44),e.qZA(),e.qZA(),e.qZA()}}function ii(i,r){if(1&i&&(e.TgZ(0,"div",47),e.TgZ(1,"div",48),e.TgZ(2,"p",49),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",50),e.TgZ(5,"div",51),e.TgZ(6,"span",52),e.TgZ(7,"b"),e._uU(8,"Ch\u1ee7 s\u1edf h\u1eefu: "),e.qZA(),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.title),e.xp6(6),e.Oqu(t.owner.username)}}function oi(i,r){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,ii,10,2,"div",46),e.qZA()),2&i){const t=r.$implicit,n=e.oxw();e.MGl("routerLink","/board/",t.id,""),e.xp6(1),e.Q6J("ngIf","Private"!=t.type||n.currentUser.id==t.owner.id)}}function ri(i,r){1&i&&(e.TgZ(0,"div",54),e._uU(1,"Ti\xeau \u0111\u1ec1 c\u1ea7n \u0111\u01b0\u1ee3c nh\u1eadp."),e.qZA())}function si(i,r){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,ri,2,0,"div",53),e.qZA()),2&i){e.oxw();const t=e.MAs(21);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ai(i,r){1&i&&(e.TgZ(0,"div",54),e._uU(1," H\xe3y nh\u1eadp ti\xeau \u0111\u1ec1 "),e.qZA())}function ci(i,r){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,ai,2,0,"div",55),e.qZA()),2&i){e.oxw();const t=e.MAs(58);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}let di=(()=>{class i{constructor(t,n,o,s,a,c,l,g,p){this.workspaceService=t,this.userService=n,this.activatedRoute=o,this.boardService=s,this.router=a,this.authenticateService=c,this.toastService=l,this.notificationService=g,this.memberService=p,this.workspaces=[],this.allowEdit=!1,this.newBoard={title:"",owner:{id:-1},columns:[],type:""},this.newWorkspace={boards:[],id:0,members:[],owner:void 0,title:"",type:"",privacy:""}}ngOnInit(){this.loggedInUser=this.authenticateService.getCurrentUserValue(),this.getAllWorkspace(),this.activatedRoute.paramMap.subscribe(t=>{this.currentWorkspaceId=parseInt(t.get("id")),null!=this.currentWorkspaceId&&this.getCurrentWorkspace(this.currentWorkspaceId),this.userService.getUserById(this.loggedInUser.id).subscribe(n=>{this.currentUser=n,console.log(this.currentUser)})})}getCurrentWorkspace(t){this.workspaceService.findById(t).subscribe(n=>{this.workspace=n,this.checkRole(n)})}getAllWorkspace(){this.workspaceService.findAllByOwnerId(this.loggedInUser.id).subscribe(t=>{this.workspaces=t})}checkRole(t){var n;this.loggedInUser.id==t.owner.id&&(this.allowEdit=!0);for(let o of this.workspace.members)this.loggedInUser.id==(null===(n=o.user)||void 0===n?void 0:n.id)&&("Qu\u1ea3n tr\u1ecb"==o.role||"Ch\u1ec9nh s\u1eeda"==o.role)&&(this.allowEdit=!0)}displayAddBoardModal(){document.getElementById("create-board").classList.add("is-active")}hideCreateBoard(){document.getElementById("create-board").classList.remove("is-active")}createNewBoard(){this.newBoard.owner=this.loggedInUser,this.boardService.addBoard(this.newBoard).subscribe(t=>{this.toastService.showMessage("B\u1ea3ng \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o","is-success"),this.workspaceAddBoard(t),this.createNotificationBoard(`\u0111\xe3 th\xeam ${t.title} v\xe0o nh\xf3m ${this.workspace.title}`,t.id),this.resetInput(),this.hideCreateBoard()})}workspaceAddBoard(t){this.workspace.boards.push(t),this.workspaceService.updateWorkspace(this.workspace.id,this.workspace).subscribe(()=>{this.getCurrentWorkspace(this.currentWorkspaceId)})}resetInput(){this.newBoard={title:"",owner:{id:-1},columns:[],type:""}}showCreateWorkspaceModal(){document.getElementById("create-workspace").classList.add("is-active")}hideCreateWorkspaceModal(){this.resetWorkspaceInput(),document.getElementById("create-workspace").classList.remove("is-active")}createWorkspace(){this.newWorkspace.owner=this.loggedInUser,this.workspaceService.createWorkspace(this.newWorkspace).subscribe(()=>{this.getAllWorkspace(),this.toastService.showMessage("Nh\xf3m \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o","is-success"),this.hideCreateWorkspaceModal()})}resetWorkspaceInput(){this.newWorkspace={boards:[],id:0,members:[],owner:void 0,title:"",type:"",privacy:""}}createNotificationBoard(t,n){let o=[];for(let a of this.workspace.members)o.push(a.user);let s={title:this.workspace.title,content:`${this.loggedInUser.username} ${t} v\xe0o l\xfac ${this.notificationService.getTime()}`,url:`trello/board/${n}`,status:!1,receiver:o,user:this.currentUser};this.notificationService.saveNotification(s)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(J.K),e.Y36(b.gz),e.Y36(M.$),e.Y36(b.F0),e.Y36(x.i),e.Y36(O.k),e.Y36(R.g),e.Y36(L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-workspacehome"]],decls:93,vars:14,consts:[["xmlns","http://www.w3.org/1999/html",1,"main-content","columns","is-fullheight"],[3,"workspaces"],[1,"container","column","is-10",2,"padding","0px 13px 13px 0px"],[1,"title-board"],[1,"far","fa-clipboard"],[1,"section-board"],["class","card",3,"click",4,"ngIf"],[3,"routerLink",4,"ngFor","ngForOf"],["id","create-board",1,"modal"],[1,"modal-background",3,"click"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"label"],["type","text","required","",1,"input",3,"ngModel","ngModelChange"],["boardTitle","ngModel"],["class","alert",4,"ngIf"],[1,"control"],[1,"input",3,"ngModel","ngModelChange"],["value","Private"],["value","Workspace"],["value","Public"],[1,"is-info","user-button","is-light"],[1,"modal-card-foot"],[1,"is-right"],[1,"button","is-dark","is-right",3,"disabled","click"],[1,"button","is-light","is-right",3,"click"],["id","create-workspace",1,"modal"],[1,"field",2,"position","relative"],["workspaceTitle","ngModel"],["required","",1,"input",3,"ngModel","ngModelChange"],["workspaceType","ngModel"],["value","IT"],["value","K\u1ebf to\xe1n"],["value","HR"],["value","Kh\xe1c"],["workspacePrivacy","ngModel"],[1,"alert"],[1,"button","is-dark",3,"disabled","click"],[1,"button","is-light",3,"click"],[1,"card",3,"click"],[1,"img-circle-add-board"],[1,"fas","fa-plus-circle"],[3,"routerLink"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-header-title"],[1,"card-content"],[1,"content"],[2,"font-size","small"],["style","color: red;",4,"ngIf"],[2,"color","red"],["style","color: red",4,"ngIf"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0),e._UZ(1,"app-side-bar",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h1"),e._UZ(5,"i",4),e._uU(6,"B\u1ea3ng"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.YNc(8,ni,4,0,"div",6),e.YNc(9,oi,2,2,"div",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.NdJ("click",function(){return n.hideCreateBoard()}),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"header",11),e.TgZ(14,"p",12),e._uU(15,"T\xean b\u1ea3ng"),e.qZA(),e.TgZ(16,"button",13),e.NdJ("click",function(){return n.hideCreateBoard()}),e.qZA(),e.qZA(),e.TgZ(17,"section",14),e.TgZ(18,"label",15),e._uU(19,"Ti\xeau \u0111\u1ec1"),e.qZA(),e.TgZ(20,"input",16,17),e.NdJ("ngModelChange",function(s){return n.newBoard.title=s}),e.qZA(),e.YNc(22,si,2,1,"div",18),e.TgZ(23,"label",15),e._uU(24,"Lo\u1ea1i"),e.qZA(),e.TgZ(25,"div",19),e.TgZ(26,"select",20),e.NdJ("ngModelChange",function(s){return n.newBoard.type=s}),e.TgZ(27,"option",21),e._uU(28,"Ri\xeang t\u01b0"),e.qZA(),e.TgZ(29,"option",22),e._uU(30,"Nh\xf3m"),e.qZA(),e.TgZ(31,"option",23),e._uU(32,"C\xf4ng khai"),e.qZA(),e.qZA(),e.qZA(),e._UZ(33,"br"),e.TgZ(34,"div",19),e.TgZ(35,"label",15),e._uU(36,"Ng\u01b0\u1eddi t\u1ea1o: "),e.TgZ(37,"span",24),e._uU(38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"footer",25),e.TgZ(40,"div",26),e.TgZ(41,"button",27),e.NdJ("click",function(){return n.createNewBoard()}),e._uU(42,"T\u1ea1o"),e.qZA(),e.qZA(),e.TgZ(43,"button",28),e.NdJ("click",function(){return n.hideCreateBoard()}),e._uU(44,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",29),e.TgZ(46,"div",9),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e.qZA(),e.TgZ(47,"div",10),e.TgZ(48,"header",11),e.TgZ(49,"p",12),e._uU(50,"T\u1ea1o m\u1ed9t nh\xf3m m\u1edbi"),e.qZA(),e.TgZ(51,"button",13),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e.qZA(),e.qZA(),e.TgZ(52,"section",14),e.TgZ(53,"div",30),e.TgZ(54,"label",15),e._uU(55,"Ti\xeau \u0111\u1ec1"),e.qZA(),e.TgZ(56,"div",19),e.TgZ(57,"input",16,31),e.NdJ("ngModelChange",function(s){return n.newWorkspace.title=s}),e.qZA(),e.qZA(),e.TgZ(59,"label",15),e._uU(60,"Ph\xe2n lo\u1ea1i nh\xf3m:"),e.qZA(),e.TgZ(61,"div",19),e.TgZ(62,"select",32,33),e.NdJ("ngModelChange",function(s){return n.newWorkspace.type=s}),e.TgZ(64,"option",34),e._uU(65,"IT"),e.qZA(),e.TgZ(66,"option",35),e._uU(67,"K\u1ebf to\xe1n"),e.qZA(),e.TgZ(68,"option",36),e._uU(69,"Nh\xe2n s\u1ef1"),e.qZA(),e.TgZ(70,"option",37),e._uU(71,"Kh\xe1c"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"label",15),e._uU(73,"Quy\u1ec1n h\u1ea1n"),e.qZA(),e.TgZ(74,"div",19),e.TgZ(75,"select",32,38),e.NdJ("ngModelChange",function(s){return n.newWorkspace.privacy=s}),e.TgZ(77,"option",21),e._uU(78,"Ri\xeang t\u01b0"),e.qZA(),e.TgZ(79,"option",23),e._uU(80,"C\xf4ng khai"),e.qZA(),e.qZA(),e.qZA(),e.YNc(81,ci,2,1,"div",18),e.qZA(),e.TgZ(82,"div",19),e.TgZ(83,"label",15),e._uU(84,"Ng\u01b0\u1eddi t\u1ea1o: "),e.TgZ(85,"span",24),e._uU(86),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"footer",25),e.TgZ(88,"div",39),e.TgZ(89,"button",40),e.NdJ("click",function(){return n.createWorkspace()}),e._uU(90,"T\u1ea1o"),e.qZA(),e.qZA(),e.TgZ(91,"button",41),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e._uU(92,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.MAs(21),s=e.MAs(58),a=e.MAs(63),c=e.MAs(76);e.xp6(1),e.Q6J("workspaces",n.workspaces),e.xp6(7),e.Q6J("ngIf",n.allowEdit),e.xp6(1),e.Q6J("ngForOf",n.workspace.boards),e.xp6(11),e.Q6J("ngModel",n.newBoard.title),e.xp6(2),e.Q6J("ngIf",o.invalid&&o.touched),e.xp6(4),e.Q6J("ngModel",n.newBoard.type),e.xp6(12),e.Oqu(n.loggedInUser.username),e.xp6(3),e.Q6J("disabled",o.invalid),e.xp6(16),e.Q6J("ngModel",n.newWorkspace.title),e.xp6(5),e.Q6J("ngModel",n.newWorkspace.type),e.xp6(13),e.Q6J("ngModel",n.newWorkspace.privacy),e.xp6(6),e.Q6J("ngIf",s.invalid&&s.touched),e.xp6(5),e.Oqu(n.loggedInUser.username),e.xp6(3),e.Q6J("disabled",s.invalid||a.invalid||c.invalid)}},directives:[W,_.O5,_.sg,d.Fj,d.Q7,d.JJ,d.On,d.EJ,d.YN,d.Kr,b.rH],styles:['a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit;text-decoration:none;transition:all .3s}.navbar[_ngcontent-%COMP%]{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:40px;box-shadow:1px 1px 3px #0000001a}.navbar-btn[_ngcontent-%COMP%]{box-shadow:none;outline:none!important;border:none}.line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch;background-image:linear-gradient(to top,#fff1eb 0%,#6d7fcc 100%)}#sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background:#7386D5;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}#content[_ngcontent-%COMP%]{width:100%;padding:20px;min-height:100vh;transition:all .3s}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar.active[_ngcontent-%COMP%]{margin-left:0}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.section-board[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;flex-wrap:wrap}.mat-card[_ngcontent-%COMP%]{width:255px;margin:20px;height:150px}.root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-item[_ngcontent-%COMP%]{list-style:none}.img-circle[_ngcontent-%COMP%]{margin-top:3px;height:33px;width:33px;-webkit-clip-path:circle(50%);clip-path:circle(50%)}.icon-link[_ngcontent-%COMP%]{display:inline-flex;font-size:25px;text-decoration:none;width:40px;height:40px;transition:.5s linear;position:relative;z-index:1;margin:auto}.icon-link[_ngcontent-%COMP%]:hover{color:#fff}.icon-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto}.fa-plus[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bell[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bars[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-home[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-board[_ngcontent-%COMP%]{font-size:20px;margin:11px 5px 5px}.board-header[_ngcontent-%COMP%]{display:flex;margin:inherit}.nav[_ngcontent-%COMP%]{background:#ffffff;display:flex;margin:inherit}.nav-brand-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;margin:auto}.nav-brand-end[_ngcontent-%COMP%]{margin-left:1100px;display:flex;justify-content:flex-end;height:40px;text-decoration:none;align-items:center;background-color:#ffffff4d;box-shadow:none;color:#fff;font-weight:bold;line-height:32px;padding:0;white-space:nowrap}.nav-content[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;line-height:1}.nav-item[_ngcontent-%COMP%]{display:flex;width:32px;justify-content:center;align-items:center;margin:0;height:40px}h1.app-name[_ngcontent-%COMP%]{padding:4px}.app-name[_ngcontent-%COMP%]{font-size:20px;font-family:"Lato",sans-serif;font-weight:bold}.has-gradient-text[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffffff,#efd0d0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.board[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:210%;min-width:0;min-height:0}.board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow-x:auto}.board-columns[_ngcontent-%COMP%]{display:flex;flex-grow:1}.board-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:0;min-width:300px;margin:50px;padding:25px;border-radius:4px;background:#ffffff}[_ngcontent-%COMP%]:not(:first-child){margin-left:0}.column-title[_ngcontent-%COMP%]{color:#523535;font-size:15px;font-weight:800;font-family:"Lato",sans-serif;text-transform:uppercase;margin-bottom:20px}.task[_ngcontent-%COMP%]{display:flex;padding:18px 12px;background:#ffffff;border-bottom:solid 1px #ffffff;border-radius:4px;margin-bottom:15px;box-shadow:0 5px 5px -3px #00000014,0 3px 14px 2px #0000000d}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.tasks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-board[_ngcontent-%COMP%]{background-color:#4c94be;border-radius:.3rem;transition:background-color .15s}.section-board[_ngcontent-%COMP%]{width:80rem;display:flex;flex-wrap:wrap}.main-content[_ngcontent-%COMP%]{justify-content:space-between;align-content:space-around;height:auto;margin:auto}.card[_ngcontent-%COMP%]{width:255px;margin:20px;height:150px}.title-board[_ngcontent-%COMP%]{margin-top:30px;margin-left:35px;font-size:22px}.fa-briefcase[_ngcontent-%COMP%], .fa-clipboard[_ngcontent-%COMP%]{margin-right:5px}.fa-plus-circle[_ngcontent-%COMP%]{font-size:50px;margin-top:30px}.img-circle-add-board[_ngcontent-%COMP%]{margin:inherit;text-align:center}.modal-card[_ngcontent-%COMP%]{margin-left:auto}.modal-card-foot[_ngcontent-%COMP%]{align-items:center;background-color:#f5f5f5;display:flex;justify-content:right;padding:20px;position:relative}']}),i})();var he=u(2533);function li(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showSingleInvite()}),e._UZ(1,"i",67),e._uU(2," M\u1eddi m\u1ed9t th\xe0nh vi\xean "),e.qZA()}}function gi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showInvite()}),e._UZ(1,"i",67),e._uU(2," M\u1eddi nhi\u1ec1u th\xe0nh vi\xean "),e.qZA()}}function pi(i,r){if(1&i&&(e.TgZ(0,"div",61),e.TgZ(1,"div",62),e.TgZ(2,"div",63),e.YNc(3,li,3,0,"button",64),e.qZA(),e.qZA(),e.TgZ(4,"div",62),e.TgZ(5,"div",63),e.YNc(6,gi,3,0,"button",65),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.isAdmin||t.isOwner),e.xp6(3),e.Q6J("ngIf",t.isAdmin||t.isOwner)}}function ui(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.index,a=o.$implicit;return e.oxw().removeMembers(s,a)}),e._UZ(1,"i",74),e.qZA()}}function hi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"div",8),e.TgZ(2,"div"),e._UZ(3,"img",9),e.qZA(),e.TgZ(4,"div",10),e.TgZ(5,"h2",11),e._uU(6),e.qZA(),e.TgZ(7,"h6",12),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div"),e.TgZ(10,"select",69,70),e.NdJ("change",function(){const s=e.CHM(t).$implicit,a=e.MAs(11);return e.oxw().updateMember(s,a.value)}),e.TgZ(12,"option",71),e._uU(13,"Ch\u1ec9 xem"),e.qZA(),e.TgZ(14,"option",59),e._uU(15,"Ch\u1ec9nh s\u1eeda"),e.qZA(),e.TgZ(16,"option",58),e._uU(17,"Qu\u1ea3n tr\u1ecb"),e.qZA(),e.qZA(),e.YNc(18,ui,2,0,"button",72),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit,n=e.oxw();e.ekj("background-current-user",n.loggedInUser.id==(null==t.user?null:t.user.id)),e.xp6(3),e.s9C("src",null==t.user?null:t.user.image,e.LSH),e.xp6(3),e.Oqu(null==t.user?null:t.user.nickname),e.xp6(2),e.hij("@",null==t.user?null:t.user.username,""),e.xp6(2),e.Q6J("ngModel",t.role)("disabled",!(n.isOwner||n.isAdmin)),e.xp6(8),e.Q6J("ngIf",(n.isAdmin||n.isOwner)&&n.loggedInUser.id!=(null==t.user?null:t.user.id))}}function mi(i,r){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" @",t.username,"(",t.nickname,") ")}}function _i(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",75),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(),c=e.MAs(32);return a.selectUser(c,s)}),e.YNc(1,mi,2,2,"span",27),e.qZA()}if(2&i){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.workspace.owner.id!=t.id)}}function fi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",77),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return a.removePendingUser(a.pendingAddMember.indexOf(s))}),e._uU(1),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(1),e.AsE(" @",t.username,"(",t.nickname,") ")}}function bi(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,fi,2,2,"span",76),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.pendingAddMember)}}function vi(i,r){1&i&&(e.TgZ(0,"div",79),e._uU(1," H\xe3y nh\u1eadp ti\xeau \u0111\u1ec1 "),e.qZA())}function Ci(i,r){if(1&i&&(e.TgZ(0,"div",49),e.YNc(1,vi,2,0,"div",78),e.qZA()),2&i){e.oxw();const t=e.MAs(58);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function xi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(),a=e.MAs(103);return s.selectSingleUser(a,o)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" @",t.username,"(",t.nickname,") ")}}function Zi(i,r){if(1&i&&(e.TgZ(0,"div",80),e.YNc(1,xi,2,2,"span",81),e.qZA()),2&i){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.workspace.owner.id!=t.id)}}function ki(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"label",35),e._uU(2),e.qZA(),e.TgZ(3,"label",35),e._uU(4),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.hij("Ng\u01b0\u1eddi d\xf9ng: ",t.pendingMember.username,""),e.xp6(2),e.hij("Email: ",t.pendingMember.email,"")}}const wi=function(i,r,t){return{itemsPerPage:i,currentPage:r,totalItems:t}};function Mi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().showEditModal()}),e._uU(1,"Thay \u0111\u1ed5i th\xf4ng tin nh\xf3m"),e.qZA()}}function Ai(i,r){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"p",41),e._UZ(2,"i",42),e._uU(3," Ri\xeang t\u01b0 "),e.TgZ(4,"span",43),e._uU(5," - \u0110\xe2y l\xe0 m\u1ed9t nh\xf3m ri\xeang t\u01b0"),e.qZA(),e.qZA(),e.qZA())}function Pi(i,r){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"p",41),e._UZ(2,"i",44),e._uU(3," C\xf4ng khai "),e.TgZ(4,"span",43),e._uU(5," - \u0110\xe2y l\xe0 m\u1ed9t nh\xf3m c\xf4ng khai"),e.qZA(),e.qZA(),e.qZA())}function Ei(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().showEditPrivacyModal()}),e._uU(1,"Thay \u0111\u1ed5i "),e.qZA()}}function yi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",46),e.TgZ(1,"ul",47),e.TgZ(2,"li"),e.TgZ(3,"div",48),e.TgZ(4,"a",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().showConfirmDeleteModal()}),e._uU(5,"X\xf3a nh\xf3m"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function Oi(i,r){1&i&&(e.TgZ(0,"div",52),e._uU(1," H\xe3y nh\u1eadp ti\xeau \u0111\u1ec1 "),e.qZA())}function qi(i,r){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Oi,2,0,"div",51),e.qZA()),2&i){e.oxw();const t=e.MAs(40);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}const Bi=[{path:"",component:gt},{path:"boards",component:xt},{path:"board/:id",component:ti},{path:"workspaces/:id/home",component:di},{path:"workspaces/:id/members",component:(()=>{class i{constructor(t,n,o,s,a,c,l,g,p,h){this.workspaceService=t,this.userService=n,this.activatedRoute=o,this.boardService=s,this.router=a,this.authenticateService=c,this.toastService=l,this.workspaceMemberService=g,this.memberService=p,this.notificationService=h,this.workspaces=[],this.allowEdit=!1,this.isAdmin=!1,this.user={},this.userSearchResult=[],this.pendingAddMember=[],this.pendingMember={},this.pendingMemberRole="Ch\u1ec9 xem",this.isOwner=!1,this.memberInWorkspace=[],this.newWorkspace={boards:[],id:0,members:[],owner:void 0,title:"",type:"",privacy:""},this.page=1,this.count=0,this.pageSize=20}ngOnInit(){this.loggedInUser=this.authenticateService.getCurrentUserValue(),this.getAllWorkspace(),this.activatedRoute.paramMap.subscribe(t=>{this.currentWorkspaceId=parseInt(t.get("id")),null!=this.currentWorkspaceId&&(this.getCurrentWorkspace(this.currentWorkspaceId),this.getAllWorkspace(),this.getMemberInWorkspace())})}getCurrentWorkspace(t){this.workspaceService.findById(t).subscribe(n=>{this.workspace=n,this.workspaceOwner=n.owner,this.memberInWorkspace=n.members,this.checkRole(n)})}checkRole(t){var n,o;this.loggedInUser.id==t.owner.id&&(this.allowEdit=!0,this.isOwner=!0);for(let s of this.workspace.members)this.loggedInUser.id==(null===(n=s.user)||void 0===n?void 0:n.id)&&"Qu\u1ea3n tr\u1ecb"==s.role?(this.allowEdit=!0,this.isAdmin=!0):this.loggedInUser.id==(null===(o=s.user)||void 0===o?void 0:o.id)&&"Ch\u1ec9nh s\u1eeda"==s.role&&(this.allowEdit=!0)}getAllWorkspace(){this.workspaceService.findAllByOwnerId(this.loggedInUser.id).subscribe(t=>{this.workspaces=t})}findAllUserByUsername(t){this.user.username=t,""!=t?this.userService.findUsersByKeyword(t).subscribe(n=>{var o;for(let s of this.workspace.members)for(let a of n)(null===(o=s.user)||void 0===o?void 0:o.id)==a.id&&n.splice(n.indexOf(a),1);for(let s of this.pendingAddMember)for(let a of n)s.id==a.id&&n.splice(n.indexOf(a),1);this.userSearchResult=n}):""==t&&(this.userSearchResult=[])}selectUser(t,n){t.value="",this.pendingAddMember.push(n),this.userSearchResult=[]}addMemberToWorkspace(){if(this.pendingAddMember.length>0){let t;for(let n of this.pendingAddMember)t={user:n,role:"Ch\u1ec9 xem"},this.workspaceMemberService.addWorkspaceMember(t,this.loggedInUser.id,this.workspace.id).subscribe(o=>{this.workspace.members.push(o),this.workspaceService.updateWorkspace(this.workspace.id,this.workspace).subscribe()});this.createNotificationAddToWorkspace(),this.toastService.showMessage("M\u1eddi th\xe0nh c\xf4ng","is-success"),this.pendingAddMember=[],this.hideInvite()}}removePendingUser(t){this.pendingAddMember.splice(t,1)}searchMembers(t){""!=t?this.workspaceMemberService.findInWorkspace(t,this.workspace.id).subscribe(n=>{this.memberInWorkspace=n}):this.memberInWorkspace=this.workspace.members}removeMembers(t,n){var o,s;let a=this.workspace.members.splice(t,1);this.workspaceService.updateWorkspace(this.workspace.id,this.workspace).subscribe();for(let c of this.workspace.boards)for(let l of a)this.memberService.deleteMemberBoardWorkspace(c.id,null===(o=l.user)||void 0===o?void 0:o.id).subscribe();this.workspaceMemberService.deleteWorkspaceMembers(a).subscribe(()=>{}),this.createNotificationRemovedFromWorkSpace(n),this.loggedInUser.id==(null===(s=n.user)||void 0===s?void 0:s.id)&&this.router.navigateByUrl("")}updateMember(t,n){t.role=n,this.workspaceMemberService.updateWorkspaceMember(t.id,t).subscribe()}hideInvite(){document.getElementById("invite").classList.remove("is-active")}showInvite(){document.getElementById("invite").classList.add("is-active")}showCreateWorkspaceModal(){document.getElementById("create-workspace").classList.add("is-active")}hideCreateWorkspaceModal(){this.resetWorkspaceInput(),document.getElementById("create-workspace").classList.remove("is-active")}createWorkspace(){this.newWorkspace.owner=this.loggedInUser,this.workspaceService.createWorkspace(this.newWorkspace).subscribe(()=>{this.getAllWorkspace(),this.toastService.showMessage("Nh\xf3m \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o","is-success"),this.hideCreateWorkspaceModal()})}resetWorkspaceInput(){this.newWorkspace={boards:[],id:0,members:[],owner:void 0,title:"",type:"",privacy:""}}showSingleInvite(){document.getElementById("single-invite").classList.add("is-active")}hideSingleInvite(){this.pendingMember={},this.pendingMemberRole="Ch\u1ec9 xem",document.getElementById("single-invite").classList.remove("is-active")}selectSingleUser(t,n){t.value="",this.pendingMember=n,this.userSearchResult=[]}addSingleMember(t){if(null!=this.pendingMember){let n={user:this.pendingMember,role:t};this.workspaceMemberService.addWorkspaceMember(n,this.loggedInUser.id,this.workspace.id).subscribe(o=>{this.workspace.members.push(o),this.workspaceService.updateWorkspace(this.workspace.id,this.workspace).subscribe()}),this.createNotificationInvitedToWorkspace(n),this.toastService.showMessage("M\u1eddi th\xe0nh c\xf4ng","is-success"),this.pendingMember={},this.hideSingleInvite()}}createNotificationAddToWorkspace(){let t=[];for(let o of this.pendingAddMember)t.push(o);let n={title:this.workspace.title,content:this.loggedInUser.username+` \u0111\xe3 th\xeam b\u1ea1n v\xe0o nh\xf3m ${this.workspace.title} v\u1edbi quy\u1ec1n ch\u1ec9 xem v\xe0o l\xfac `+this.notificationService.getTime(),status:!1,url:"/trello/workspaces/"+this.workspace.id,receiver:t,user:this.loggedInUser};this.notificationService.saveNotification(n)}createNotificationInvitedToWorkspace(t){let n=[];null!=this.pendingMember&&n.push(this.pendingMember);let o={title:this.workspace.title,content:this.loggedInUser.username+` \u0111\xe3 th\xeam b\u1ea1n v\xe0o nh\xf3m ${this.workspace.title} v\u1edbi quy\u1ec1n ${t.role} v\xe0o l\xfac `+this.notificationService.getTime(),status:!1,url:"/trello/workspaces/"+this.workspace.id,receiver:n,user:this.loggedInUser};this.notificationService.saveNotification(o)}createNotificationRemovedFromWorkSpace(t){let n=[];n.push(t.user);let o={title:this.workspace.title,content:this.loggedInUser.username+` \u0111\xe3 \u0111\xe1 b\u1ea1n ra kh\u1ecfi nh\xf3m ${this.workspace.title} v\xe0o l\xfac `+this.notificationService.getTime(),status:!1,url:"",receiver:n,user:this.loggedInUser};this.notificationService.saveNotification(o)}getRequestParam(t,n){let o={};return t&&(o.page=t-1),n&&(o.size=n),o}getMemberInWorkspace(){const t=this.getRequestParam(this.page,this.pageSize);this.workspaceMemberService.findByWorkspace(this.currentWorkspaceId,t).subscribe(n=>{this.memberInWorkspace=n.members,this.count=n.totalItems})}handlePageChange(t){this.page=t,this.getMemberInWorkspace()}handlePageSizeChange(t){this.pageSize=t.target.value,this.page=1,this.getMemberInWorkspace()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(J.K),e.Y36(b.gz),e.Y36(M.$),e.Y36(b.F0),e.Y36(x.i),e.Y36(O.k),e.Y36(ue),e.Y36(L),e.Y36(R.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-workspacemembers"]],decls:127,vars:27,consts:[[1,"main-content","columns","is-fullheight"],[3,"workspaces"],[1,"container","column","is-10"],["class","navbar-end",4,"ngIf"],[1,"title-board"],["type","text","placeholder","T\xecm ki\u1ebfm th\xe0nh vi\xean trong nh\xf3m",1,"input","is-link",3,"keyup"],["searchMember",""],[1,"user-container"],[1,"user-info"],[1,"user-img",3,"src"],[1,"user-name"],[1,"user-nickname"],[1,"user-username"],[1,"button","is-primary"],["class","user-container",3,"background-current-user",4,"ngFor","ngForOf"],["previousLabel","Tr\u01b0\u1edbc","nextLabel","Sau",1,"my-pagination",3,"responsive","pageChange"],["id","invite",1,"modal"],[1,"modal-background"],[1,"modal-card",2,"margin-top","300px"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"control"],["type","text","placeholder","Nh\u1eadp t\xean",1,"input","is-link",3,"keyup"],["searchUser",""],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"modal-card-foot"],[1,"is-right"],[1,"button","is-dark","is-right",3,"disabled","click"],[1,"button","is-light","is-right",3,"click"],["id","create-workspace",1,"modal"],[1,"modal-card",2,"margin-left","600px",3,"click"],[1,"field",2,"position","relative"],[1,"label"],["type","text","required","",1,"input",3,"ngModel","ngModelChange"],["workspaceTitle","ngModel"],["required","",1,"input",3,"ngModel","ngModelChange"],["workspaceType","ngModel"],["value","IT"],["value","K\u1ebf to\xe1n"],["value","HR"],["value","Kh\xe1c"],["workspacePrivacy","ngModel"],["value","Private"],["value","Public"],["class","alert",4,"ngIf"],[1,"is-info","user-button","is-light"],[1,"alert"],[1,"button","is-dark",3,"disabled","click"],[1,"button","is-light",3,"click"],["id","single-invite",1,"modal"],["searchUserSingle",""],["class","dropdown-item",4,"ngFor","ngForOf"],[2,"margin-bottom","10px"],[1,"control",2,"margin-top","10px"],["pendingRole","ngModel"],["value","Qu\u1ea3n tr\u1ecb"],["value","Ch\u1ec9nh s\u1eeda"],["value","Ch\u1ec9 xem"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],["class","button is-primary","style","width: 180px",3,"click",4,"ngIf"],["class","button is-primary","style","width: 190px",3,"click",4,"ngIf"],[1,"button","is-primary",2,"width","180px",3,"click"],[1,"fas","fa-user-plus"],[1,"button","is-primary",2,"width","190px",3,"click"],[1,"button","is-primary",2,"width","110px","border","0px",3,"ngModel","disabled","change"],["newRole","ngModel"],["value","Ch\u1ec9 xem",1,""],["class","button is-primary","style","width: 40px",3,"click",4,"ngIf"],[1,"button","is-primary",2,"width","40px",3,"click"],[1,"fas","fa-user-minus",2,"color","red"],[1,"dropdown-item",3,"click"],["class","button is-info is-light",3,"click",4,"ngFor","ngForOf"],[1,"button","is-info","is-light",3,"click"],["style","color: red",4,"ngIf"],[2,"color","red"],[1,"dropdown-item"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"section",0),e._UZ(1,"app-side-bar",1),e.TgZ(2,"div",2),e.YNc(3,pi,7,2,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"input",5,6),e.NdJ("keyup",function(){e.CHM(o);const a=e.MAs(6);return n.searchMembers(a.value)}),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"div"),e._UZ(10,"img",9),e.qZA(),e.TgZ(11,"div",10),e.TgZ(12,"h2",11),e._uU(13),e.qZA(),e.TgZ(14,"h6",12),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div"),e.TgZ(17,"button",13),e._uU(18," Ch\u1ee7 nh\xf3m "),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,hi,19,8,"div",14),e.ALo(20,"paginate"),e.TgZ(21,"pagination-controls",15),e.NdJ("pageChange",function(a){return n.handlePageChange(a)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",16),e.TgZ(23,"div",17),e.TgZ(24,"div",18),e.TgZ(25,"header",19),e.TgZ(26,"p",20),e._uU(27,"Th\xeam th\xe0nh vi\xean v\xe0o nh\xf3m"),e.qZA(),e.TgZ(28,"button",21),e.NdJ("click",function(){return n.hideInvite()}),e.qZA(),e.qZA(),e.TgZ(29,"section",22),e.TgZ(30,"div",23),e.TgZ(31,"input",24,25),e.NdJ("keyup",function(){e.CHM(o);const a=e.MAs(32);return n.findAllUserByUsername(a.value)}),e.qZA(),e.qZA(),e.TgZ(33,"div",23),e.YNc(34,_i,2,1,"div",26),e.qZA(),e.TgZ(35,"p"),e._uU(36,"Danh s\xe1ch th\xeam th\xe0nh vi\xean"),e.qZA(),e.TgZ(37,"div",23),e.YNc(38,bi,2,1,"div",27),e.qZA(),e.qZA(),e.TgZ(39,"footer",28),e.TgZ(40,"div",29),e.TgZ(41,"button",30),e.NdJ("click",function(){return n.addMemberToWorkspace()}),e._uU(42,"Th\xeam "),e.qZA(),e.qZA(),e.TgZ(43,"button",31),e.NdJ("click",function(){return n.hideInvite()}),e._uU(44,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",32),e._UZ(46,"div",17),e.TgZ(47,"div",33),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e.TgZ(48,"header",19),e.TgZ(49,"p",20),e._uU(50,"T\u1ea1o m\u1ed9t nh\xf3m m\u1edbi"),e.qZA(),e.TgZ(51,"button",21),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e.qZA(),e.qZA(),e.TgZ(52,"section",22),e.TgZ(53,"div",34),e.TgZ(54,"label",35),e._uU(55,"T\xean b\u1ea3ng"),e.qZA(),e.TgZ(56,"div",23),e.TgZ(57,"input",36,37),e.NdJ("ngModelChange",function(a){return n.newWorkspace.title=a}),e.qZA(),e.qZA(),e.TgZ(59,"label",35),e._uU(60,"Ph\xe2n lo\u1ea1i nh\xf3m:"),e.qZA(),e.TgZ(61,"div",23),e.TgZ(62,"select",38,39),e.NdJ("ngModelChange",function(a){return n.newWorkspace.type=a}),e.TgZ(64,"option",40),e._uU(65,"IT"),e.qZA(),e.TgZ(66,"option",41),e._uU(67,"K\u1ebf to\xe1n"),e.qZA(),e.TgZ(68,"option",42),e._uU(69,"Nh\xe2n s\u1ef1"),e.qZA(),e.TgZ(70,"option",43),e._uU(71,"Kh\xe1c"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"label",35),e._uU(73,"Quy\u1ec1n h\u1ea1n"),e.qZA(),e.TgZ(74,"div",23),e.TgZ(75,"select",38,44),e.NdJ("ngModelChange",function(a){return n.newWorkspace.privacy=a}),e.TgZ(77,"option",45),e._uU(78,"Ri\xeang t\u01b0"),e.qZA(),e.TgZ(79,"option",46),e._uU(80,"C\xf4ng khai"),e.qZA(),e.qZA(),e.qZA(),e.YNc(81,Ci,2,1,"div",47),e.qZA(),e.TgZ(82,"div",23),e.TgZ(83,"label",35),e._uU(84,"Ng\u01b0\u1eddi t\u1ea1o: "),e.TgZ(85,"span",48),e._uU(86),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"footer",28),e.TgZ(88,"div",49),e.TgZ(89,"button",50),e.NdJ("click",function(){return n.createWorkspace()}),e._uU(90,"T\u1ea1o "),e.qZA(),e.qZA(),e.TgZ(91,"button",51),e.NdJ("click",function(){return n.hideCreateWorkspaceModal()}),e._uU(92,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(93,"div",52),e.TgZ(94,"div",17),e.TgZ(95,"div",18),e.TgZ(96,"header",19),e.TgZ(97,"p",20),e._uU(98,"Th\xeam th\xe0nh vi\xean v\xe0o nh\xf3m"),e.qZA(),e.TgZ(99,"button",21),e.NdJ("click",function(){return n.hideSingleInvite()}),e.qZA(),e.qZA(),e.TgZ(100,"section",22),e.TgZ(101,"div",23),e.TgZ(102,"input",24,53),e.NdJ("keyup",function(){e.CHM(o);const a=e.MAs(103);return n.findAllUserByUsername(a.value)}),e.qZA(),e.qZA(),e.TgZ(104,"div",23),e.YNc(105,Zi,2,1,"div",54),e.qZA(),e.TgZ(106,"p",55),e._uU(107,"Th\xf4ng tin th\xe0nh vi\xean m\u1edbi"),e.qZA(),e.TgZ(108,"div",23),e.YNc(109,ki,5,2,"div",27),e.qZA(),e.TgZ(110,"div",56),e.TgZ(111,"label",35),e._uU(112,"Quy\u1ec1n h\u1ea1n:"),e.qZA(),e.TgZ(113,"select",38,57),e.NdJ("ngModelChange",function(a){return n.pendingMemberRole=a}),e.TgZ(115,"option",58),e._uU(116,"Qu\u1ea3n tr\u1ecb"),e.qZA(),e.TgZ(117,"option",59),e._uU(118,"Ch\u1ec9nh s\u1eeda"),e.qZA(),e.TgZ(119,"option",60),e._uU(120,"Ch\u1ec9 xem"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(121,"footer",28),e.TgZ(122,"div",29),e.TgZ(123,"button",30),e.NdJ("click",function(){e.CHM(o);const a=e.MAs(114);return n.addSingleMember(a.value)}),e._uU(124,"Th\xeam "),e.qZA(),e.qZA(),e.TgZ(125,"button",51),e.NdJ("click",function(){return n.hideSingleInvite()}),e._uU(126,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.MAs(58),s=e.MAs(63),a=e.MAs(76),c=e.MAs(114);e.xp6(1),e.Q6J("workspaces",n.workspaces),e.xp6(2),e.Q6J("ngIf",n.allowEdit||n.loggedInUser.id==(null==n.workspace.owner?null:n.workspace.owner.id)),e.xp6(7),e.s9C("src",n.workspaceOwner.image,e.LSH),e.xp6(3),e.Oqu(n.workspaceOwner.nickname),e.xp6(2),e.hij("@",n.workspaceOwner.username,""),e.xp6(4),e.Q6J("ngForOf",e.xi3(20,20,n.memberInWorkspace,e.kEZ(23,wi,n.pageSize,n.page,n.count))),e.xp6(2),e.Q6J("responsive",!0),e.xp6(13),e.Q6J("ngForOf",n.userSearchResult),e.xp6(4),e.Q6J("ngIf",0!=n.pendingAddMember.length),e.xp6(3),e.Q6J("disabled",0==n.pendingAddMember.length),e.xp6(16),e.Q6J("ngModel",n.newWorkspace.title),e.xp6(5),e.Q6J("ngModel",n.newWorkspace.type),e.xp6(13),e.Q6J("ngModel",n.newWorkspace.privacy),e.xp6(6),e.Q6J("ngIf",o.invalid&&o.touched),e.xp6(5),e.Oqu(n.loggedInUser.username),e.xp6(3),e.Q6J("disabled",o.invalid||s.invalid||a.invalid),e.xp6(16),e.Q6J("ngForOf",n.userSearchResult),e.xp6(4),e.Q6J("ngIf",null!=n.pendingMember),e.xp6(4),e.Q6J("ngModel",n.pendingMemberRole),e.xp6(10),e.Q6J("disabled",c.invalid)}},directives:[W,_.O5,_.sg,he.LS,d.Fj,d.Q7,d.JJ,d.On,d.EJ,d.YN,d.Kr],pipes:[he._s],styles:['.root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-item[_ngcontent-%COMP%]{list-style:none}.img-circle[_ngcontent-%COMP%]{margin-top:3px;height:33px;width:33px;-webkit-clip-path:circle(50%);clip-path:circle(50%)}.icon-link[_ngcontent-%COMP%]{display:inline-flex;font-size:25px;text-decoration:none;width:40px;height:40px;transition:.5s linear;position:relative;z-index:1;margin:auto}.icon-link[_ngcontent-%COMP%]:hover{color:#fff}.icon-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto}.fa-plus[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bell[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bars[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-home[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-board[_ngcontent-%COMP%]{font-size:20px;margin:11px 5px 5px}.board-header[_ngcontent-%COMP%]{display:flex;margin:inherit}.nav[_ngcontent-%COMP%]{background:#ffffff;display:flex;margin:inherit}.nav-brand-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;margin:auto}.nav-brand-end[_ngcontent-%COMP%]{margin-left:1100px;display:flex;justify-content:flex-end;height:40px;text-decoration:none;align-items:center;background-color:#ffffff4d;box-shadow:none;color:#fff;font-weight:bold;line-height:32px;padding:0;white-space:nowrap}.nav-content[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;line-height:1}.nav-item[_ngcontent-%COMP%]{display:flex;width:32px;justify-content:center;align-items:center;margin:0;height:40px}h1.app-name[_ngcontent-%COMP%]{padding:4px}.app-name[_ngcontent-%COMP%]{font-size:20px;font-family:"Lato",sans-serif;font-weight:bold}.has-gradient-text[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffffff,#efd0d0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.board[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:210%;min-width:0;min-height:0}.board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow-x:auto}.board-columns[_ngcontent-%COMP%]{display:flex;flex-grow:1}.board-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:0;margin:50px;padding:25px;border-radius:4px;background:#ffffff}[_ngcontent-%COMP%]:not(:first-child){margin-left:0}.column-title[_ngcontent-%COMP%]{color:#523535;font-size:15px;font-weight:800;font-family:"Lato",sans-serif;text-transform:uppercase;margin-bottom:20px}.task[_ngcontent-%COMP%]{display:flex;padding:18px 12px;background:#ffffff;border-bottom:solid 1px #ffffff;border-radius:4px;margin-bottom:15px;box-shadow:0 5px 5px -3px #00000014,0 3px 14px 2px #0000000d}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.tasks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-board[_ngcontent-%COMP%]{background-color:#4c94be;border-radius:.3rem;transition:background-color .15s}.section-board[_ngcontent-%COMP%]{width:80rem;display:flex;flex-wrap:wrap}.main-content[_ngcontent-%COMP%]{justify-content:space-between;align-content:space-around;height:auto;margin:auto;min-height:100vh}.card[_ngcontent-%COMP%]{width:230px;margin:35px}.title-board[_ngcontent-%COMP%]{margin-top:30px;margin-left:35px;font-size:22px}.fa-briefcase[_ngcontent-%COMP%], .fa-clipboard[_ngcontent-%COMP%]{margin-right:5px}.button.is-primary[_ngcontent-%COMP%]{background:rgba(255,255,255,.5);color:#000000a6;width:100px;margin:10px}.button.is-success[_ngcontent-%COMP%]{width:100px;margin:10px}.list-user[_ngcontent-%COMP%]{padding:10px;font-size:16px}.list-user[_ngcontent-%COMP%]:hover{background-color:red}.list-user-added[_ngcontent-%COMP%]{background:#222222;color:#fff;margin:0 5px}.user-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.user-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.user-name[_ngcontent-%COMP%]{margin-left:15px;color:#fff}.user-nickname[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;margin-bottom:10px}.user-username[_ngcontent-%COMP%]{font-size:14px;font-weight:lighter}.user-invite[_ngcontent-%COMP%]{cursor:pointer}.background-current-user[_ngcontent-%COMP%]{background-color:#6d7fcc40}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination{margin-left:41%;margin-top:30px;justify-content:space-evenly}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-previous{background:#6d7fcc;color:#fff;width:100px;margin-right:5px;margin-top:-5px}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-next{background:#6d7fcc;color:#fff;width:100px;margin-top:-5px}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#6d7fcc;color:#fff}']}),i})()},{path:"workspaces/:id/setting",component:(()=>{class i{constructor(t,n,o,s,a,c,l,g,p,h){this.workspaceService=t,this.userService=n,this.activatedRoute=o,this.router=s,this.authenticateService=a,this.toastService=c,this.workspaceMemberService=l,this.memberService=g,this.notificationService=p,this.boardService=h,this.workspaces=[],this.isAdmin=!1,this.isOwner=!1,this.workspaceOwner={},this.workspaceMember=[]}ngOnInit(){this.loggedInUser=this.authenticateService.getCurrentUserValue(),this.activatedRoute.paramMap.subscribe(t=>{this.currentWorkspaceId=parseInt(t.get("id")),null!=this.currentWorkspaceId&&this.getCurrentWorkspace(this.currentWorkspaceId)}),this.getCurrentUser()}getCurrentWorkspace(t){this.workspaceService.findById(t).subscribe(n=>{this.workspace=n,this.workspaceOwner=n.owner,this.workspaceMember=n.members,this.checkRole()})}getCurrentUser(){this.userService.getUserById(this.loggedInUser.id).subscribe(t=>{this.currentUser=t})}deleteWorkspace(t){this.boardService.deleteAllByWorkspace(this.workspace.boards).subscribe(),this.workspaceService.deleteWorkspace(t).subscribe(()=>{this.router.navigateByUrl("/trello")}),this.createNotification(`\u0111\xe3 x\xf3a nh\xf3m ${this.workspace.title}`),this.toastService.showMessage("Nh\xf3m \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a","is-success")}showEditModal(){document.getElementById("edit-workspace").classList.add("is-active")}hideEditModal(){this.getCurrentWorkspace(this.currentWorkspaceId),document.getElementById("edit-workspace").classList.remove("is-active")}showEditPrivacyModal(){document.getElementById("edit-workspace-privacy").classList.add("is-active")}hideEditPrivacyModal(){this.getCurrentWorkspace(this.currentWorkspaceId),document.getElementById("edit-workspace-privacy").classList.remove("is-active")}showConfirmDeleteModal(){document.getElementById("confirm-delete").classList.add("is-active")}hideConfirmDeleteModal(){document.getElementById("confirm-delete").classList.remove("is-active")}updateWorkspace(){this.workspaceService.updateWorkspace(this.workspace.id,this.workspace).subscribe(t=>{this.workspace=t,this.hideEditModal(),this.hideEditPrivacyModal()})}createNotification(t){let n=[];for(let s of this.workspace.members)s.user&&n.push(s.user);let o={title:this.workspace.title,content:`${this.loggedInUser.username} ${t} v\xe0o l\xfac ${this.notificationService.getTime()}`,url:"/trello",status:!1,receiver:n,user:this.currentUser};this.notificationService.saveNotification(o)}checkRole(){var t;this.loggedInUser.id==this.workspaceOwner.id&&(this.isOwner=!0);for(let n of this.workspace.members)this.loggedInUser.id==(null===(t=n.user)||void 0===t?void 0:t.id)&&"Qu\u1ea3n tr\u1ecb"==n.role&&(this.isAdmin=!0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(J.K),e.Y36(b.gz),e.Y36(b.F0),e.Y36(x.i),e.Y36(O.k),e.Y36(ue),e.Y36(L),e.Y36(R.g),e.Y36(M.$))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-workspace-setting"]],decls:100,vars:13,consts:[[1,"main-content","columns","is-fullheight"],[1,"container","column","is-10"],[2,"justify-content","center","display","flex","color","white"],[2,"font-size","xxx-large","font-weight","bold"],[2,"justify-content","center","display","flex"],["class","button is-light",3,"click",4,"ngIf"],[2,"color","white"],[2,"justify-content","space-between","display","flex"],[4,"ngIf"],["class","button is-light","style","height: 25px;width: 70px",3,"click",4,"ngIf"],["id","sidebar",4,"ngIf"],["id","edit-workspace",1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"field",2,"position","relative"],[1,"label"],[1,"control"],["type","text","required","",1,"input",3,"ngModel","ngModelChange"],["workspaceTitle","ngModel"],["required","",1,"input",3,"ngModel","ngModelChange"],["workspaceType","ngModel"],["value","IT"],["value","K\u1ebf to\xe1n"],["value","HR"],["value","Kh\xe1c"],["class","alert",4,"ngIf"],[1,"modal-card-foot"],[1,"is-right"],[1,"button","is-dark","is-right",3,"disabled","click"],[1,"button","is-light",3,"click"],["id","edit-workspace-privacy",1,"modal"],["workspacePrivacy","ngModel"],["value","Private"],["value","Public"],["id","confirm-delete",1,"modal"],[1,"alert","is-right"],[1,"button","is-danger",3,"click"],[2,"color","white","font-weight","bold"],[1,"fas","fa-lock",2,"color","red"],[2,"font-weight","normal"],[1,"fas","fa-globe",2,"color","green"],[1,"button","is-light",2,"height","25px","width","70px",3,"click"],["id","sidebar"],[1,"list-group"],[1,"list-group-item"],[2,"color","#ff0000","font-weight","bold",3,"click"],[1,"alert"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h1",3),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,Mi,2,0,"button",5),e.qZA(),e._UZ(7,"hr"),e.TgZ(8,"div"),e.TgZ(9,"div"),e.TgZ(10,"p",6),e._uU(11,"Quy\u1ec1n truy c\u1eadp:"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"div",7),e.YNc(14,Ai,6,0,"div",8),e.YNc(15,Pi,6,0,"div",8),e.YNc(16,Ei,2,0,"button",9),e.qZA(),e._UZ(17,"hr"),e.qZA(),e.qZA(),e.TgZ(18,"div",7),e.TgZ(19,"div",6),e.TgZ(20,"p"),e._uU(21,"C\xe1c th\xf4ng tin kh\xe1c:"),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"p"),e._uU(24),e.qZA(),e.qZA(),e.qZA(),e._UZ(25,"br"),e.YNc(26,yi,6,0,"div",10),e.qZA(),e.qZA(),e.TgZ(27,"div",11),e.TgZ(28,"div",12),e.TgZ(29,"div",13),e.TgZ(30,"header",14),e.TgZ(31,"p",15),e._uU(32,"S\u1eeda th\xf4ng tin nh\xf3m"),e.qZA(),e.TgZ(33,"button",16),e.NdJ("click",function(){return n.hideEditModal()}),e.qZA(),e.qZA(),e.TgZ(34,"section",17),e.TgZ(35,"div",18),e.TgZ(36,"label",19),e._uU(37,"T\xean nh\xf3m"),e.qZA(),e.TgZ(38,"div",20),e.TgZ(39,"input",21,22),e.NdJ("ngModelChange",function(s){return n.workspace.title=s}),e.qZA(),e.qZA(),e.TgZ(41,"label",19),e._uU(42,"Ph\xe2n lo\u1ea1i nh\xf3m:"),e.qZA(),e.TgZ(43,"div",20),e.TgZ(44,"select",23,24),e.NdJ("ngModelChange",function(s){return n.workspace.type=s}),e.TgZ(46,"option",25),e._uU(47,"IT"),e.qZA(),e.TgZ(48,"option",26),e._uU(49,"K\u1ebf to\xe1n"),e.qZA(),e.TgZ(50,"option",27),e._uU(51,"Nh\xe2n s\u1ef1"),e.qZA(),e.TgZ(52,"option",28),e._uU(53,"Kh\xe1c"),e.qZA(),e.qZA(),e.qZA(),e.YNc(54,qi,2,1,"div",29),e.qZA(),e.qZA(),e.TgZ(55,"footer",30),e.TgZ(56,"div",31),e.TgZ(57,"button",32),e.NdJ("click",function(){return n.updateWorkspace()}),e._uU(58,"S\u1eeda "),e.qZA(),e.qZA(),e.TgZ(59,"button",33),e.NdJ("click",function(){return n.hideEditModal()}),e._uU(60,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",34),e.TgZ(62,"div",12),e.TgZ(63,"div",13),e.TgZ(64,"header",14),e.TgZ(65,"p",15),e._uU(66,"Thay \u0111\u1ed5i quy\u1ec1n truy c\u1eadp"),e.qZA(),e.TgZ(67,"button",16),e.NdJ("click",function(){return n.hideEditPrivacyModal()}),e.qZA(),e.qZA(),e.TgZ(68,"section",17),e.TgZ(69,"label",19),e._uU(70,"Quy\u1ec1n h\u1ea1n"),e.qZA(),e.TgZ(71,"div",20),e.TgZ(72,"select",23,35),e.NdJ("ngModelChange",function(s){return n.workspace.privacy=s}),e.TgZ(74,"option",36),e._uU(75,"Ri\xeang t\u01b0"),e.qZA(),e.TgZ(76,"option",37),e._uU(77,"C\xf4ng khai"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(78,"footer",30),e.TgZ(79,"div",31),e.TgZ(80,"button",32),e.NdJ("click",function(){return n.updateWorkspace()}),e._uU(81,"Thay \u0111\u1ed5i "),e.qZA(),e.qZA(),e.TgZ(82,"button",33),e.NdJ("click",function(){return n.hideEditPrivacyModal()}),e._uU(83,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",38),e.TgZ(85,"div",12),e.TgZ(86,"div",13),e.TgZ(87,"header",14),e.TgZ(88,"p",15),e._uU(89,"X\xe1c nh\u1eadn x\xf3a nh\xf3m"),e.qZA(),e.TgZ(90,"button",16),e.NdJ("click",function(){return n.hideConfirmDeleteModal()}),e.qZA(),e.qZA(),e.TgZ(91,"section",17),e.TgZ(92,"h1"),e._uU(93,"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a nh\xf3m n\xe0y kh\xf4ng?"),e.qZA(),e.qZA(),e.TgZ(94,"footer",30),e.TgZ(95,"div",39),e.TgZ(96,"button",40),e.NdJ("click",function(){return n.deleteWorkspace(n.workspace.id)}),e._uU(97,"X\xf3a "),e.qZA(),e.qZA(),e.TgZ(98,"button",33),e.NdJ("click",function(){return n.hideConfirmDeleteModal()}),e._uU(99,"H\u1ee7y"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.MAs(40),s=e.MAs(45),a=e.MAs(73);e.xp6(4),e.Oqu(n.workspace.title),e.xp6(2),e.Q6J("ngIf",n.isOwner||n.isAdmin),e.xp6(8),e.Q6J("ngIf","Private"==n.workspace.privacy),e.xp6(1),e.Q6J("ngIf","Public"==n.workspace.privacy),e.xp6(1),e.Q6J("ngIf",n.isOwner||n.isAdmin),e.xp6(8),e.hij("Lo\u1ea1i nh\xf3m: ",n.workspace.type,""),e.xp6(2),e.Q6J("ngIf",n.isOwner),e.xp6(13),e.Q6J("ngModel",n.workspace.title),e.xp6(5),e.Q6J("ngModel",n.workspace.type),e.xp6(10),e.Q6J("ngIf",o.invalid&&o.touched),e.xp6(3),e.Q6J("disabled",o.invalid||s.invalid),e.xp6(15),e.Q6J("ngModel",n.workspace.privacy),e.xp6(8),e.Q6J("disabled",a.invalid)}},directives:[_.O5,d.Fj,d.Q7,d.JJ,d.On,d.EJ,d.YN,d.Kr],styles:['.root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.icon-item[_ngcontent-%COMP%]{list-style:none}.img-circle[_ngcontent-%COMP%]{margin-top:3px;height:33px;width:33px;-webkit-clip-path:circle(50%);clip-path:circle(50%)}.icon-link[_ngcontent-%COMP%]{display:inline-flex;font-size:25px;text-decoration:none;width:40px;height:40px;transition:.5s linear;position:relative;z-index:1;margin:auto}.icon-link[_ngcontent-%COMP%]:hover{color:#fff}.icon-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto}.fa-plus[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bell[_ngcontent-%COMP%]{margin:9px auto auto}.fa-bars[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-home[_ngcontent-%COMP%]{font-size:22px;margin:12px auto auto}.fa-board[_ngcontent-%COMP%]{font-size:20px;margin:11px 5px 5px}.board-header[_ngcontent-%COMP%]{display:flex;margin:inherit}.nav[_ngcontent-%COMP%]{background:#ffffff;display:flex;margin:inherit}.nav-brand-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;margin:auto}.nav-brand-end[_ngcontent-%COMP%]{margin-left:1100px;display:flex;justify-content:flex-end;height:40px;text-decoration:none;align-items:center;background-color:#ffffff4d;box-shadow:none;color:#fff;font-weight:bold;line-height:32px;padding:0;white-space:nowrap}.nav-content[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;line-height:1}.nav-item[_ngcontent-%COMP%]{display:flex;width:32px;justify-content:center;align-items:center;margin:0;height:40px}h1.app-name[_ngcontent-%COMP%]{padding:4px}.app-name[_ngcontent-%COMP%]{font-size:20px;font-family:"Lato",sans-serif;font-weight:bold}.has-gradient-text[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffffff,#efd0d0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.board[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:210%;min-width:0;min-height:0}.board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow-x:auto}.board-columns[_ngcontent-%COMP%]{display:flex;flex-grow:1}.board-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:0;margin:50px;padding:25px;border-radius:4px;background:#ffffff}[_ngcontent-%COMP%]:not(:first-child){margin-left:0}.column-title[_ngcontent-%COMP%]{color:#523535;font-size:15px;font-weight:800;font-family:"Lato",sans-serif;text-transform:uppercase;margin-bottom:20px}.task[_ngcontent-%COMP%]{display:flex;padding:18px 12px;background:#ffffff;border-bottom:solid 1px #ffffff;border-radius:4px;margin-bottom:15px;box-shadow:0 5px 5px -3px #00000014,0 3px 14px 2px #0000000d}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.tasks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-board[_ngcontent-%COMP%]{background-color:#4c94be;border-radius:.3rem;transition:background-color .15s}.section-board[_ngcontent-%COMP%]{width:80rem;display:flex;flex-wrap:wrap}.main-content[_ngcontent-%COMP%]{justify-content:space-between;align-content:space-around;height:auto;margin:auto;min-height:100vh}.card[_ngcontent-%COMP%]{width:230px;margin:35px}.title-board[_ngcontent-%COMP%]{margin-top:30px;margin-left:35px;font-size:22px}.fa-briefcase[_ngcontent-%COMP%], .fa-clipboard[_ngcontent-%COMP%]{margin-right:5px}.button.is-primary[_ngcontent-%COMP%]{background:rgba(255,255,255,.5);color:#000000a6;width:100px;margin:10px}.button.is-success[_ngcontent-%COMP%]{width:100px;margin:10px}.list-user[_ngcontent-%COMP%]{padding:10px;font-size:16px}.list-user[_ngcontent-%COMP%]:hover{background-color:red}.list-user-added[_ngcontent-%COMP%]{background:#222222;color:#fff;margin:0 5px}.user-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.user-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.user-name[_ngcontent-%COMP%]{margin-left:15px;color:#fff}.user-nickname[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;margin-bottom:10px}.user-username[_ngcontent-%COMP%]{font-size:14px;font-weight:lighter}.user-invite[_ngcontent-%COMP%]{cursor:pointer}.background-current-user[_ngcontent-%COMP%]{background-color:#6d7fcc40}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination{margin-left:41%;margin-top:30px;justify-content:space-evenly}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-previous{background:#6d7fcc;color:#fff;width:100px;margin-right:5px;margin-top:-5px}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-next{background:#6d7fcc;color:#fff;width:100px;margin-top:-5px}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#6d7fcc;color:#fff}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit;text-decoration:none;transition:all .3s}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch}#sidebar[_ngcontent-%COMP%]{min-width:250px;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar.active[_ngcontent-%COMP%]{margin-left:0}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.modal-card[_ngcontent-%COMP%]{margin-top:10%}.modal-card-foot[_ngcontent-%COMP%]{align-items:center;background-color:#f5f5f5;display:flex;justify-content:right;padding:20px;position:relative}']}),i})()}];let Di=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[b.Bz.forChild(Bi)],b.Bz]}),i})();var Ii=u(7363),Si=u(6760);let Ui=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[_.ez,Di,Ii.G,d.u5,d.UX,Ht,Si.h,he.JX]]}),i})()}}]);